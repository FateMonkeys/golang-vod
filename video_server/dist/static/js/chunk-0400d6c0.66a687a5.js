(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0400d6c0","chunk-b8b8b8da","chunk-e85a7cde","chunk-07850c56","chunk-1796358c","chunk-7c722165","chunk-2d0f012d","chunk-2d0c7ece","chunk-2d0e28b6","chunk-2d0d67a2"],{"097c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"uuid",prop:"uuid"}},[a("el-input",{attrs:{placeholder:"请输入uuid",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.uuid,callback:function(t){e.$set(e.queryParams,"uuid",t)},expression:"queryParams.uuid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.queryParams.classId,callback:function(t){e.$set(e.queryParams,"classId",t)},expression:"queryParams.classId"}},e._l(e.classIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"authorId"}},[a("el-select",{attrs:{placeholder:"请选择作者",clearable:"",size:"small"},model:{value:e.queryParams.authorId,callback:function(t){e.$set(e.queryParams,"authorId",t)},expression:"queryParams.authorId"}},e._l(e.authorIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地区",prop:"localId"}},[a("el-select",{attrs:{placeholder:"请选择地区",clearable:"",size:"small"},model:{value:e.queryParams.localId,callback:function(t){e.$set(e.queryParams,"localId",t)},expression:"queryParams.localId"}},e._l(e.localIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/add"],expression:"['cms/cmsVideoList/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.cmsCartoonListList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"uuid",align:"center",prop:"uuid","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"分类",align:"center",prop:"classId",formatter:e.classIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.classIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"作者",align:"center",prop:"authorId",formatter:e.authorIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.authorIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"地区",align:"center",prop:"localId",formatter:e.localIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.localIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"标签",align:"center",prop:"tag","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsCartoonList/delete"],expression:"['cms/cmsCartoonList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.addsopen,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.addsopen=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("upload-files",{attrs:{successCall:e.successCall,accept:"image/*",explain:"文件标题内容规则：\n\n1、录入内容的顺序为：标题@分类@标签@地区@作者@简介\n\n2、缺省项可不填，用@代替，但录入的先后顺序不能改变，比如：标题@@@@@简介\n\n3、中间的缺省内容用@分隔，如果末尾的内容为缺省项，可直接省略，比如：标题\n\n如:\n唐伯虎点秋香|喜剧|搞笑,爱情|中国|周星驰|周星驰经第一章.png\n"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.classId,callback:function(t){e.$set(e.form,"classId",t)},expression:"form.classId"}},e._l(e.classIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"authorId"}},[a("el-select",{attrs:{placeholder:"请选择作者"},model:{value:e.form.authorId,callback:function(t){e.$set(e.form,"authorId",t)},expression:"form.authorId"}},e._l(e.authorIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地区",prop:"localId"}},[a("el-select",{attrs:{placeholder:"请选择地区"},model:{value:e.form.localId,callback:function(t){e.$set(e.form,"localId",t)},expression:"form.localId"}},e._l(e.localIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签",prop:"tag"}},[a("el-input",{attrs:{placeholder:"请输入标签"},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"介绍",prop:"introduce"}},[a("el-input",{attrs:{placeholder:"请输入介绍"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他",prop:"other"}},[a("el-input",{attrs:{placeholder:"请输入其他"},model:{value:e.form.other,callback:function(t){e.$set(e.form,"other",t)},expression:"form.other"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("a481"),a("28a5"),a("7f7f"),a("c2d0")),o=a("e8ec"),s=a("c006"),r=(a("e077"),{components:{UploadFiles:s["a"]},name:"CmsCartoonList",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsCartoonListList:[],title:"",open:!1,addsopen:!1,classIdOptions:[],authorIdOptions:[],localIdOptions:[],queryParams:{pageNum:1,pageSize:10,title:void 0,uuid:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}]},statusUrl:Object(o["a"])()}},created:function(){this.getCmsClassItems(),this.getCmsAuthorItems(),this.getCmsLocalItems(),this.getList()},methods:{getCmsClassItems:function(){var e=this;this.getItems(i["f"],{pageSize:1e4}).then((function(t){e.classIdOptions=e.setItems(t,"id","name")}))},getCmsAuthorItems:function(){var e=this;this.getItems(i["d"],{pageSize:1e4}).then((function(t){e.authorIdOptions=e.setItems(t,"id","name")}))},getCmsLocalItems:function(){var e=this;this.getItems(i["g"],{pageSize:1e4}).then((function(t){e.localIdOptions=e.setItems(t,"id","name")}))},getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.queryParams).then((function(t){e.cmsCartoonListList=t.data.list,e.total=t.data.total,e.loading=!1}))},classIdFormat:function(e,t){return this.selectItemsLabel(this.classIdOptions,e.classId)},authorIdFormat:function(e,t){return this.selectItemsLabel(this.authorIdOptions,e.authorId)},localIdFormat:function(e,t){return this.selectItemsLabel(this.localIdOptions,e.localId)},successCall:function(e,t,a,l){var n=this,o=e.name,s=o.split(".").pop();s&&o!=s&&(o=o.replace("."+s,""));var r=JSON.parse(a),c=o.split("@");this.form={path:r.filePath,title:c[0],className:c.length>=2?c[1]:"",tag:c.length>=3?c[2]:"",local:c.length>=4?c[3]:"",authorName:c.length>=5?c[4]:"",introduce:c.length>=6?c[5]:""},Object(i["a"])(this.form).then((function(e){0===e.code?n.getList():console.log(e)}))},cancel:function(){this.addsopen=!1,this.open=!1,this.reset()},reset:function(){this.form={id:void 0,title:void 0,uuid:void 0,path:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0,introduce:void 0,other:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.addsopen=!0,this.title="添加漫画"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["c"])(a).then((function(e){var a=e.data;a.classId=""+a.classId,a.authorId=""+a.authorId,a.localId=""+a.localId,t.form=a,t.open=!0,t.title="修改漫画列"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(i["h"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除漫画列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},"0a35":function(e,t,a){"use strict";a("3865")},"0a5c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],i=a("313e"),o=a("feb2");a("817d");var s=3e3,r={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i["default"].init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},"0e11":function(e,t,a){"use strict";a("b422")},"0e1e":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"g",(function(){return u}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/model/category/list",method:"get",params:e})}function i(){return Object(l["a"])({url:"/system/model/category/all",method:"get"})}function o(e){return Object(l["a"])({url:"/system/model/category/add",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/system/model/category/info?id="+e,method:"get"})}function r(e){return Object(l["a"])({url:"/system/model/category/sort",method:"post",data:{sorts:e}})}function c(e){return Object(l["a"])({url:"/system/model/category/delete",method:"delete",data:{ids:e}})}function u(e){return Object(l["a"])({url:"/system/model/category/edit",method:"post",data:e})}},"0e6d":function(e,t,a){"use strict";a.r(t);var l,n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator\n      ")])]),e._v(" "),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,l){return a("div",{key:l,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,l){return a("div",{key:l,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,l){return a("div",{key:l,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0)],1)])],1),e._v(" "),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v("\n        导出vue文件\n      ")]),e._v(" "),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v("\n        复制代码\n      ")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v("\n        清空\n      ")])],1),e._v(" "),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,l){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:l,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v("\n            从左侧拖入或点选组件进行表单设计\n          ")])],1)],1)],1)],1),e._v(" "),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),e._v(" "),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),e._v(" "),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},o=[],s=(a("8e6e"),a("20d6"),a("7618")),r=(a("456d"),a("ac6a"),a("bd86")),c=(a("a481"),a("1980")),u=a.n(c),d=a("21a6"),m=a("e552"),p=a.n(m),f=a("b311"),h=a.n(f),v=a("a85b"),b=a("574f"),g=a("2e2a"),y=a("ed08");a("7f7f");function _(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function k(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function x(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function w(e){return"<style>\n    ".concat(e,"\n  </style>")}function C(e,t,a){var l="";"right"!==e.labelPosition&&(l='label-position="'.concat(e.labelPosition,'"'));var i=e.disabled?':disabled="'.concat(e.disabled,'"'):"",o='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(i,' label-width="').concat(e.labelWidth,'px" ').concat(l,">\n      ").concat(t,"\n      ").concat(S(e,a),"\n    </el-form>");return n&&(o='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(o,"\n      </el-row>")),o}function S(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',n&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function O(e,t){return n||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var I={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==l.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!g["e"][e.tag]&&e.required?"required":"",n=P[e.tag]?P[e.tag](e):null,i="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(n,"\n      </el-form-item>");return i=O(e,i),i},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),l="default"===e.type?"":'align="'.concat(e.align,'"'),n=e.gutter?'gutter="'.concat(e.gutter,'"'):"",i=e.children.map((function(e){return I[e.layout](e)})),o="<el-row ".concat(t," ").concat(a," ").concat(l," ").concat(n,">\n      ").concat(i.join("\n"),"\n    </el-row>");return o=O(e,o),o}},P={"el-input":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.clearable,i=t.placeholder,o=t.width,s=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",r=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",d=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",m=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",h=L(e);return h&&(h="\n".concat(h,"\n")),"<".concat(e.tag," ").concat(l," ").concat(p," ").concat(i," ").concat(s," ").concat(r," ").concat(c," ").concat(a," ").concat(n," ").concat(u," ").concat(d," ").concat(m," ").concat(f," ").concat(o,">").concat(h,"</").concat(e.tag,">")},"el-input-number":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.placeholder,i=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",o=e.min?":min='".concat(e.min,"'"):"",s=e.max?":max='".concat(e.max,"'"):"",r=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(l," ").concat(n," ").concat(r," ").concat(c," ").concat(u," ").concat(i," ").concat(o," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.clearable,i=t.placeholder,o=t.width,s=e.filterable?"filterable":"",r=e.multiple?"multiple":"",c=D(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(l," ").concat(i," ").concat(a," ").concat(r," ").concat(s," ").concat(n," ").concat(o,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=N(e),a=t.disabled,l=t.vModel,n='size="'.concat(e.size,'"'),i=q(e);return i&&(i="\n".concat(i,"\n")),"<".concat(e.tag," ").concat(l," ").concat(n," ").concat(a,">").concat(i,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=N(e),a=t.disabled,l=t.vModel,n='size="'.concat(e.size,'"'),i=e.min?':min="'.concat(e.min,'"'):"",o=e.max?':max="'.concat(e.max,'"'):"",s=$(e);return s&&(s="\n".concat(s,"\n")),"<".concat(e.tag," ").concat(l," ").concat(i," ").concat(o," ").concat(n," ").concat(a,">").concat(s,"</").concat(e.tag,">")},"el-switch":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",i=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",o=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",s=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",r=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(l," ").concat(n," ").concat(i," ").concat(o," ").concat(s," ").concat(r," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.clearable,i=t.placeholder,o=t.width,s=e.options?':options="'.concat(e.vModel,'Options"'):"",r=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",d="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(l," ").concat(s," ").concat(r," ").concat(o," ").concat(c," ").concat(i," ").concat(d," ").concat(u," ").concat(n," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=e.min?":min='".concat(e.min,"'"):"",i=e.max?":max='".concat(e.max,"'"):"",o=e.step?":step='".concat(e.step,"'"):"",s=e.range?"range":"",r=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(o," ").concat(l," ").concat(s," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.clearable,i=t.placeholder,o=t.width,s=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",r=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",d=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(l," ").concat(u," ").concat(d," ").concat(m," ").concat(p," ").concat(o," ").concat(i," ").concat(s," ").concat(r," ").concat(c," ").concat(n," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=t.clearable,i=t.placeholder,o=t.width,s=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",r=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",m="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(m," ").concat(l," ").concat(u," ").concat(d," ").concat(o," ").concat(i," ").concat(s," ").concat(r," ").concat(c," ").concat(n," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=N(e),a=t.disabled,l=t.vModel,n=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),i=e["show-text"]?"show-text":"",o=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(l," ").concat(n," ").concat(i," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=N(e),a=t.disabled,l=t.vModel,n='size="'.concat(e.size,'"'),i=e["show-alpha"]?"show-alpha":"",o=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(l," ").concat(n," ").concat(i," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",l=e.multiple?"multiple":"",n="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",i=e.accept?'accept="'.concat(e.accept,'"'):"",o="file"!==e.name?'name="'.concat(e.name,'"'):"",s=!1===e["auto-upload"]?':auto-upload="false"':"",r=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),d=T(e);return d&&(d="\n".concat(d,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(s," ").concat(l," ").concat(r," ").concat(n," ").concat(i," ").concat(o," ").concat(t,">").concat(d,"</").concat(e.tag,">")}};function N(e){return{vModel:'v-model="'.concat(l.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function L(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function D(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function q(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",l=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(l,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function $(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",l=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(l,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function T(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function z(e,t){var a=[];l=e,n=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(I[e.layout](e))}));var i=a.join("\n"),o=C(e,i,t);return"dialog"===t&&(o=_(o)),l=null,o}var j=a("80de"),F={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function E(e,t){var a=F[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return E(e,t)}))}function A(e){var t=[];return e.fields.forEach((function(e){return E(t,e)})),t.join("\n")}var M=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],V=a("81a5"),B=a.n(V),R=a("3e52"),U=a.n(R),Q=a("e1fc"),K=a("1000");function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H,J,Y={components:{draggable:u.a,render:v["a"],RightPanel:b["default"],CodeTypeDialog:Q["default"],DraggableItem:K["default"]},data:function(){return{logo:B.a,user:U.a,idGlobal:100,formConf:g["a"],inputComponents:g["b"],selectComponents:g["d"],layoutComponents:g["c"],labelWidth:100,drawingList:M,drawingData:{},activeId:M[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:M[0]}},computed:{},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&H===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){H=e},immediate:!0}},mounted:function(){var e=this,t=new h.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=J,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=g["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),J=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,J=t),J},AssembleFormData:function(){this.formData=W({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(y["j"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(d["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=x(Object(j["a"])(this.formData,e)),a=k(z(this.formData,e)),l=w(A(this.formData));return p.a.html(a+t+l,y["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(s["a"])(t.activeData[a])===Object(s["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,l=t.findIndex((function(e){return e.formId===a.activeId}));l>-1?t.splice(l,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},X=Y,Z=(a("bee2"),a("2877")),ee=Object(Z["a"])(X,i,o,!1,null,null,null);t["default"]=ee.exports},"0f99":function(e,t,a){},1e3:function(e,t,a){"use strict";a.r(t);var l=a("1980"),n=a.n(l),i=a("a85b"),o={itemBtns:function(e,t,a,l){var n=this.$listeners,i=n.copyItem,o=n.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){i(t,l),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){o(a,l),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},s={colFormItem:function(e,t,a,l){var n=this,s=this.$listeners.activeItem,r=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(r+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:r,nativeOn:{click:function(e){s(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(i["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){n.$set(t,"defaultValue",e)}}})]),o.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,l){var i=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=r.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:s,nativeOn:{click:function(e){i(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(n.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),o.itemBtns.apply(this,arguments)])])}};function r(e,t,a,l){var n=this;return Array.isArray(t.children)?t.children.map((function(a,l){var i=s[a.layout];return i?i.call(n,e,a,l,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,d,m={components:{render:i["a"],draggable:n.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=s[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=m,f=a("2877"),h=Object(f["a"])(p,u,d,!1,null,null,null);t["default"]=h.exports},"10f8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"模型标识",prop:"modelName"}},[a("el-input",{attrs:{placeholder:"请输入模型标识",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.modelName,callback:function(t){e.$set(e.queryParams,"modelName",t)},expression:"queryParams.modelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模型名称",prop:"modelTitle"}},[a("el-input",{attrs:{placeholder:"请输入模型名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.modelTitle,callback:function(t){e.$set(e.queryParams,"modelTitle",t)},expression:"queryParams.modelTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"modelStatus"}},[a("el-select",{attrs:{placeholder:"模型状态",clearable:"",size:"small"},model:{value:e.queryParams.modelStatus,callback:function(t){e.$set(e.queryParams,"modelStatus",t)},expression:"queryParams.modelStatus"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模型分类",prop:"modelCategoryId"}},[a("el-select",{attrs:{placeholder:"模型分类",clearable:"",size:"small"},model:{value:e.queryParams.modelCategoryId,callback:function(t){e.$set(e.queryParams,"modelCategoryId",t)},expression:"queryParams.modelCategoryId"}},e._l(e.categoryList,(function(e){return a("el-option",{key:e.cId,attrs:{label:e.cName,value:e.cId}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型ID",align:"center",prop:"modelId"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型标识",align:"center",prop:"modelName"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型名称",align:"center",prop:"modelTitle"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型分类",align:"center",prop:"cName"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据引擎",align:"center",prop:"modelEngine"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.modelStatus,callback:function(a){e.$set(t.row,"modelStatus",a)},expression:"scope.row.modelStatus"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-s-fold"},on:{click:function(a){return e.handleFieldsList(t.row)}}},[e._v("字段列表")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-document-copy"},on:{click:function(a){return e.handleCopyModel(t.row)}}},[e._v("复制模型")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-video-play"},on:{click:function(a){return e.handleCreateModel(t.row)}}},[e._v("生成模型")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模型分类",prop:"modelCategoryId"}},[a("el-select",{model:{value:e.form.modelCategoryId,callback:function(t){e.$set(e.form,"modelCategoryId",t)},expression:"form.modelCategoryId"}},e._l(e.categoryList,(function(e){return a("el-option",{key:e.cId,attrs:{label:e.cName,value:e.cId}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模型标识",prop:"modelName"}},[a("el-input",{attrs:{placeholder:"请输入模型标识"},model:{value:e.form.modelName,callback:function(t){e.$set(e.form,"modelName",t)},expression:"form.modelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模型名称",prop:"modelTitle"}},[a("el-input",{attrs:{placeholder:"请输入模型名称"},model:{value:e.form.modelTitle,callback:function(t){e.$set(e.form,"modelTitle",t)},expression:"form.modelTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"引擎类型",prop:"modelEngine"}},[a("el-select",{model:{value:e.form.modelEngine,callback:function(t){e.$set(e.form,"modelEngine",t)},expression:"form.modelEngine"}},e._l(e.engineScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模型状态",prop:"modelStatus"}},[a("el-radio-group",{model:{value:e.form.modelStatus,callback:function(t){e.$set(e.form,"modelStatus",t)},expression:"form.modelStatus"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/system/model/info/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/model/info/add",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/system/model/info/info?id="+e,method:"get"})}function c(e){return Object(i["a"])({url:"/system/model/info/edit",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/system/model/info/copyModel",method:"post",data:{modelId:e}})}function d(e){return Object(i["a"])({url:"/system/model/info/createModel",method:"post",data:{modelId:e}})}function m(e,t){return Object(i["a"])({url:"/system/model/info/setStatus",method:"post",data:{modelId:e,modelStatus:t}})}function p(e){return Object(i["a"])({url:"/system/model/info/delete",method:"delete",data:{ids:e}})}var f=a("0e1e"),h={name:"Post",data:function(){return{loading:!0,ids:[],categoryList:[],single:!0,multiple:!0,total:0,list:[],title:"",open:!1,statusOptions:[],engineScopeOptions:[{value:"MyISAM",label:"MyISAM"},{value:"InnoDB",label:"InnoDB"}],queryParams:{pageNum:1,pageSize:10,modelName:void 0,modelTitle:void 0,modelStatus:void 0,modelCategoryId:void 0},form:{},rules:{modelCategoryId:[{required:!0,message:"请选择模型分类",trigger:"change"}],modelName:[{required:!0,message:"模型标识不能为空",trigger:"blur"}],modelTitle:[{required:!0,message:"模型名称不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]})),Object(f["d"])().then((function(t){e.categoryList=t.data||[]}))},methods:{getList:function(){var e=this;this.loading=!0,this.list=[],o(this.queryParams).then((function(t){t.data.list&&t.data.list.map((function(t){t.modelStatus=""+t.modelStatus,e.list.push(t)})),e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={modelId:void 0,modelCategoryId:void 0,modelName:void 0,modelTitle:void 0,modelEngine:"MyISAM",modelStatus:"1"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.modelId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加模型"},handleUpdate:function(e){var t=this;this.reset();var a=e.modelId||this.ids;r(a).then((function(e){var a=e.data;a&&(t.form={modelId:a.modelId,modelCategoryId:a.modelCategoryId,modelName:a.modelName,modelTitle:a.modelTitle,modelEngine:a.modelEngine,modelStatus:""+a.modelStatus}),t.open=!0,t.title="修改模型"}))},handleFieldsList:function(e){var t=e.modelId||this.ids[0];this.$router.push({path:"/modelInfo/fields",query:{modelId:t}})},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.modelId?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):s(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleCopyModel:function(e){var t=this;u(e.modelId).then((function(e){t.msgSuccess("模型复制成功"),t.loading=!0,t.getList()})).catch((function(e){}))},handleCreateModel:function(e){var t=this;this.$confirm("将重建数据库，原有数据自动备份，确认生成？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.modelId)})).then((function(){t.msgSuccess("模型生成成功")})).catch((function(e){this.msgError(e.msg)}))},handleStatusChange:function(e){var t=this,a="1"===e.modelStatus?"启用":"停用";this.$confirm('确认要"'+a+'"'+e.modelTitle+'"吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(e.modelId,e.modelStatus)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.modelStatus="0"===e.modelStatus?"1":"0"}))},handleDelete:function(e){var t=this,a=e.modelId?[e.modelId]:this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return exportPost(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},v=h,b=a("2877"),g=Object(b["a"])(v,l,n,!1,null,null,null);t["default"]=g.exports},"13c2":function(e,t,a){"use strict";a("57ff")},"1a54":function(e,t,a){"use strict";a("be87")},"1bf0":function(e,t,a){"use strict";a("d755")},"1e4b":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mb10",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU使用率")])]),e._v(" "),a("div",{staticClass:"monitor"},[a("div",{staticClass:"monitor-header"},[a("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.cpuUsed).toFixed(2)}})],1),e._v(" "),a("div",{staticClass:"monitor-footer"},[a("Cell",{attrs:{label:"CPU主频",value:e.server.mhz/1e3+"GHz",border:""}}),e._v(" "),a("Cell",{attrs:{label:"核心数",value:e.server.cpuNum}})],1)])])],1),e._v(" "),a("el-col",{attrs:{sm:24,md:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存使用率")])]),e._v(" "),a("div",{staticClass:"monitor"},[a("div",{staticClass:"monitor-header"},[a("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.memUsage).toFixed(2)}})],1),e._v(" "),a("div",{staticClass:"monitor-footer"},[a("Cell",{attrs:{label:"总内存",value:e.memorySizeFormat(e.server.memTotal),border:""}}),e._v(" "),a("Cell",{attrs:{label:"已用内存",value:e.memorySizeFormat(e.server.memUsed)}})],1)])])],1),e._v(" "),a("el-col",{attrs:{sm:24,md:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("程序安装盘")])]),e._v(" "),a("div",{staticClass:"monitor"},[a("div",{staticClass:"monitor-header"},[a("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.diskPercent).toFixed(2)}})],1),e._v(" "),a("div",{staticClass:"monitor-footer"},[a("Cell",{attrs:{label:"总空间",value:e.server.diskTotal+"Gb",border:""}}),e._v(" "),a("Cell",{attrs:{label:"可用空间",value:e.server.diskAvailable+"Gb"}})],1)])])],1)],1),e._v(" "),a("el-row",{staticClass:"mb10",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"14px"}},[e._v("下载结果")])]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[a("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[a("Cell",{attrs:{"label-size":"5px",label:"下载成功",value:e.server.dowsOk+"",border:""}}),e._v(" "),a("Cell",{attrs:{"label-size":"5px",label:"下载失败",value:e.server.dowsErr+""}})],1),e._v(" "),a("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[a("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.dowsErr)/(Number(e.server.dows)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),a("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"14px"}},[e._v("下载状态")])]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[a("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[a("Cell",{attrs:{"label-size":"5px",label:"等待下载",value:e.server.dowsDd+"",border:""}}),e._v(" "),a("Cell",{attrs:{"label-size":"5px",label:"正在下载",value:e.server.dowsIng+""}})],1),e._v(" "),a("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[a("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.dowsIng)/(Number(e.server.dows)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),a("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"14px"}},[e._v("转码结果")])]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[a("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[a("Cell",{attrs:{"label-size":"5px",label:"转码成功",value:e.server.videosOk+"",border:""}}),e._v(" "),a("Cell",{attrs:{"label-size":"5px",label:"转码失败",value:e.server.videosErr+""}})],1),e._v(" "),a("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[a("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.videosErr)/(Number(e.server.videos)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),a("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"14px"}},[e._v("转码状态")])]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[a("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[a("Cell",{attrs:{"label-size":"5px",label:"等待处理",value:e.server.videosDd+"",border:""}}),e._v(" "),a("Cell",{attrs:{"label-size":"5px",label:"正在转码",value:e.server.videosIng+""}})],1),e._v(" "),a("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[a("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.videosIng)/(Number(e.server.videos)||1)*100).toFixed(2)}})],1)])]):e._e()],1)],1),e._v(" "),a("el-row",{staticClass:"mb10",attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,md:12}},[a("el-card",{attrs:{"body-style":"height: 20rem;"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器网络吞吐")])]),e._v(" "),a("Net",{attrs:{recv:e.server.recv,sent:e.server.sent}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-card",{attrs:{"body-style":"height: 20rem;"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("数据存储盘")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.server.diskList,height:"280"}},[a("el-table-column",{attrs:{prop:"Path",label:"盘符路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.path)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Total",label:"总大小",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.memorySizeFormat(t.row.total))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Available",label:"可用大小",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.memorySizeFormat(t.row.free))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Percent",label:"已用百分比",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(Math.round(t.row.usedPercent))+"%\n            ")]}}])})],1)],1)])],1)],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell"},[a("div",{staticClass:"cell-inner",class:e.border?"border":""},[a("div",{staticClass:"cell-item"},[a("div",{staticClass:"cell-item-label"},[e.label?a("span",{style:{"font-size":e.labelSize}},[e._v("\n          "+e._s(e.label)+"\n        ")]):a("span",[e._t("label")],2)]),e._v(" "),a("div",{staticClass:"cell-item-value"},[e.value?a("span",{style:{"font-size":e.labelSize}},[e._v("\n          "+e._s(e.value)+"\n        ")]):a("span",[e._t("value")],2)])]),e._v(" "),a("div",{staticClass:"cell-item mt5"},[e.extra?a("span",{style:{"font-size":e.labelSize}},[e._v(e._s(e.extra))]):a("span",[e._t("extra")],2)])])])},o=[],s={name:"Cell",props:{border:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:null,default:""},extra:{type:String,default:""},labelSize:{type:String,default:"14px"}}},r=s,c=(a("b79f"),a("2877")),u=Object(c["a"])(r,i,o,!1,null,"4fc460d5",null),d=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{width:"100%",height:"100%"},attrs:{id:"myChart"}})},p=[],f=a("313e"),h=1,v=1024*h,b=1024*v,g=1024*b,y={name:"Net",props:["Sent","Recv"],data:function(){return{SentList:[],RecvList:[],myChart:null,option:null,maxWidth:10}},watch:{Sent:function(e,t){var a=this;this.SentList.length>=this.maxWidth&&this.SentList.shift(),this.SentList.push(e),this.option.series[0].data=this.SentList,setTimeout((function(){a.myChart.setOption(a.option)}),800)},Recv:function(e,t){var a=this;this.RecvList.length>=this.maxWidth&&this.RecvList.shift(),this.RecvList.push(e),this.option.series[1].data=this.RecvList,setTimeout((function(){a.myChart.setOption(a.option)}),800)}},mounted:function(){this.SentList.push(this.Sent),this.RecvList.push(this.Recv),this.drwaLine()},methods:{drwaLine:function(){var e=document.getElementById("myChart");this.myChart=f["init"](e,null,{renderer:"svg"});for(var t=[],a=0;a<this.maxWidth;a++)t.push("");this.option={grid:{backgroundColor:"rgba(0,0,0,0)",borderWidth:0,x:65,y:25,x2:2,y2:4},animation:!1,tooltip:{trigger:"axis",formatter:function(e,t,a){for(var l="",n=0,i=e.length;n<i;n++){var o=1204*e[n].value,s="";o>=1e9?(o=(o/g).toFixed(1),s=o+" G/s"):o>=1e6?(o=(o/b).toFixed(1),s=o+" M/s"):(o=(o/v).toFixed(1),s=o+" K/s"),l+=(l.length>0?"<br/>":"")+e[n].seriesName+" : "+s}return l}},legend:{data:["上行","下行"]},toolbox:{show:!1,feature:{}},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:t,splitLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",position:"left",axisLabel:{formatter:function(e){e*=1024;var t="";return e>=1e9?(e=(e/g).toFixed(1),t=e+" G/s"):e>=1e6?(e=(e/b).toFixed(1),t=e+" M/s"):(e=(e/v).toFixed(1),t=e+" K/s"),t}},splitLine:{show:!1}}],series:[{name:"上行",type:"line",smooth:!0,symbolSize:0,itemStyle:{normal:{lineStyle:{width:1},areaStyle:{type:"default"}}},data:this.SentList},{name:"下行",type:"line",smooth:!0,symbolSize:0,itemStyle:{normal:{lineStyle:{width:1},areaStyle:{type:"default"}}},data:this.RecvList}]},this.myChart.setOption(this.option)}}},_=y,k=(a("0e11"),Object(c["a"])(_,m,p,!1,null,null,null)),x=k.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.classuuid}},[a("el-progress",{ref:"progress",attrs:{type:"dashboard","stroke-width":e.strokeWidth,percentage:e.thisPercentage,color:e.colors}})],1)},C=[],S=(a("28a5"),a("c5f6"),a("1157")),O=a.n(S),I={props:{percentage:{type:Number,default:0},strokeWidth:{type:Number,default:7},size:{type:String,default:"150px"}},watch:{percentage:function(e,t){this.thisPercentage=e}},data:function(){return{classuuid:"",thisPercentage:0,colors:[{color:"#5cb87a",percentage:70},{color:"#e6a23c",percentage:90},{color:"#f56c6c",percentage:100}]}},methods:{uuid:function(e,t){var a,l,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||n.length,e)for(a=0;a<e;a++)i[a]=n[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="",i[14]="4",a=0;a<36;a++)i[a]||(l=0|16*Math.random(),i[a]=n[19==a?3&l|8:l]);return i.join("")}},mounted:function(){var e=this;this.classuuid=this.uuid(),this.thisPercentage=this.percentage,this.$nextTick((function(){O()("#"+e.classuuid+" .el-progress-circle").height(e.size),O()("#"+e.classuuid+" .el-progress-circle").width(e.size)}))}},P=I,N=Object(c["a"])(P,w,C,!1,null,null,null),L=N.exports,D=a("cc0b"),q={name:"Dashboard",components:{Cell:d,Net:x,Yibiao:L},data:function(){return{server:{dows:0,dowsOk:0,dowsErr:0,dowsDd:0,dowsIng:0,videos:0,videosOk:0,videosErr:0,videosDd:0,videosIng:0,diskTotal:0,diskAvailable:0,diskPercent:0,sent:0,recv:0,cpuAvg15:0,cpuAvg5:0,cpuNum:0,mhz:0,cpuUsed:10,diskList:[{path:"/",fstype:"apfs",total:586999996416,free:224417820672,used:362582175744,usedPercent:61.77,inodesTotal:2191929749,inodesUsed:349469,inodesFree:2191580280,inodesUsedPercent:.01594343980045138}],goFree:0,goHome:"/Users/xiaobai/sdk/go1.17rc2",goName:"GoLang",goRunTime:5561,goStartTime:"2023-02-25 20:54:08",goTotal:0,goUsage:.28,goUsed:48317448,goUserDir:"/Volumes/DATA/Sourcetree/CMS资源库/cms-status-server",goVersion:"go1.17rc2",memFree:6578659328,memTotal:17179869184,memUsage:61.71,memUsed:10601209856,sysComputerIp:"192.168.20.1",sysComputerName:"xiaobaideMacBook-Pro.local",sysOsArch:"x86_64",sysOsName:"darwin"},info:{CpuInfo:{Percent:0,Mhz:0,CpuNum:0},MemInfo:{Percent:0,Total:0,Available:0},DiskInfo:{Percent:0,Total:0,Available:0,Path:""},IOInfo:{sent_now:0,recv_now:0},OfflineDownload:{Success:0,Fail:0,Await:0,Handle:0,Ing:0},VideotranscoInfo:{Success:0,Fail:0,Await:0,Handle:0,Ing:0},DiskUsagInfo:[]},timer:null}},created:function(){this.getList(),this.timer=1,this.timerIng()},beforeDestroy:function(){this.timer=0},methods:{timerIng:function(){var e=this;this.getList2((function(){1==e.timer&&setTimeout(e.timerIng,1e3)}))},getList:function(){var e=this;Object(D["a"])().then((function(t){e.server=t.data,console.log(e.server)}))},getList2:function(e){var t=this;Object(D["a"])().then((function(a){t.server=a.data,e()}))},memorySizeFormat:function(e){e=parseFloat(e);var t=0,a="Bytes";while(e>1024&&"GB"!=a)e/=1024,t++,1==t?a="KB":2==t?a="MB":3==t&&(a="GB");return e.toFixed(2)+" "+a}}},$=q,T=(a("4fd5"),Object(c["a"])($,l,n,!1,null,"b58b2b70",null));t["default"]=T.exports},"1f23":function(e,t,a){},"1f67":function(e,t,a){"use strict";a("9352")},"202d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.noticeTitle,callback:function(t){e.$set(e.queryParams,"noticeTitle",t)},expression:"queryParams.noticeTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"公告类型",clearable:"",size:"small"},model:{value:e.queryParams.noticeType,callback:function(t){e.$set(e.queryParams,"noticeType",t)},expression:"queryParams.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:add"],expression:"['system:notice:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"noticeId",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"公告标题",align:"center",prop:"noticeTitle","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"公告类型",align:"center",prop:"noticeType",formatter:e.typeFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",align:"center",prop:"createBy",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"780px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容"}},[a("Editor",{model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("b775");function o(e){return Object(i["a"])({url:"/system/notice/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/notice/"+e,method:"get"})}function r(e){return Object(i["a"])({url:"/system/notice",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/system/notice",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/system/notice/"+e,method:"delete"})}var d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{staticClass:"avatar-uploader quill-img",attrs:{action:e.uploadImgUrl,name:"file",headers:e.headers,"show-file-list":!1,"on-success":e.quillImgSuccess,"on-error":e.uploadError,"before-upload":e.quillImgBefore,accept:".jpg,.jpeg,.png,.gif"}}),e._v(" "),a("el-upload",{staticClass:"avatar-uploader quill-file",attrs:{action:e.uploadFileUrl,name:"file",headers:e.headers,"show-file-list":!1,"on-success":e.quillFileSuccess,"on-error":e.uploadFileError,"before-upload":e.quillFileBefore,accept:".zip,.rar,.xls,.xlsx,.doc,.docx,.ppt,.pptx"}}),e._v(" "),a("quill-editor",{ref:"quillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},m=[],p=a("bd86"),f=(a("c5f6"),a("5f87")),h=a("953d"),v=(a("a753"),a("8096"),a("14e1"),[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video","file"]]),b={props:{value:{type:String},maxSize:{type:Number,default:4e3}},components:{quillEditor:h["quillEditor"]},data:function(){var e,t;return t={content:this.value,uploadImgUrl:"",editorOption:(e={placeholder:"",theme:"snow"},Object(p["a"])(e,"placeholder","请输入内容"),Object(p["a"])(e,"modules",{toolbar:{container:v,handlers:{image:function(e){e?document.querySelector(".quill-img input").click():this.quill.format("image",!1)},file:function(e){e?document.querySelector(".quill-file input").click():this.quill.format("file",!1)}}}}),e)},Object(p["a"])(t,"uploadImgUrl","/api/v1/system/upload/upImg"),Object(p["a"])(t,"uploadFileUrl","/api/v1/system/upload/upFile"),Object(p["a"])(t,"headers",{Authorization:"Bearer "+Object(f["a"])()}),t},watch:{value:function(){this.content=this.value}},methods:{onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},quillImgBefore:function(e){var t=e.type;return"image/jpeg"===t||"image/png"===t||(this.$message.error("请插入图片类型文件(jpg/jpeg/png)"),!1)},quillFileBefore:function(e){return!0},quillImgSuccess:function(e,t){var a=this.$refs.quillEditor.quill;if(0==e.code){var l=a.getSelection().index;a.insertEmbed(l,"image","/api/v1/"+e.data.fileInfo.fileUrl),a.setSelection(l+1)}else this.$message.error("图片插入失败")},quillFileSuccess:function(e,t){var a=this.$refs.quillEditor.quill;if(0==e.code){var l=a.getSelection().index;a.setSelection(l+1)}else this.$message.error("附件插入失败")},uploadError:function(){this.$message.error("图片插入失败")},uploadFileError:function(){this.$message.error("附件插入失败")}}},g=b,y=(a("1a54"),a("2877")),_=Object(y["a"])(g,d,m,!1,null,null,null),k=_.exports,x={name:"Notice",components:{Editor:k},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,noticeList:[],title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,createBy:void 0,status:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_notice_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_notice_type").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.noticeType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;s(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$confirm('是否确认删除公告编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},w=x,C=Object(y["a"])(w,l,n,!1,null,null,null);t["default"]=C.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("\n        404错误!\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v("\n        "+e._s(e.message)+"\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("\n        对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。\n      ")]),e._v(" "),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1)])])},n=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"pic-404"},[l("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),l("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],i={name:"Page404",computed:{message:function(){return"找不到网页！"}}},o=i,s=(a("bddb"),a("2877")),r=Object(s["a"])(o,l,n,!1,null,"279ea4b2",null);t["default"]=r.exports},"27ff":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions.values,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"name","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"list_order",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"menu")}},model:{value:e.menuExpand,callback:function(t){e.menuExpand=t},expression:"menuExpand"}},[e._v("展开/折叠")]),e._v(" "),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"menu")}},model:{value:e.menuNodeAll,callback:function(t){e.menuNodeAll=t},expression:"menuNodeAll"}},[e._v("全选/全不选")]),e._v(" "),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"menu")}},model:{value:e.form.menuCheckStrictly,callback:function(t){e.$set(e.form,"menuCheckStrictly",t)},expression:"form.menuCheckStrictly"}},[e._v("父子联动")]),e._v(" "),a("el-tree",{ref:"menu",staticClass:"tree-border",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","check-strictly":!e.form.menuCheckStrictly,"empty-text":"加载中，请稍后",props:e.menuProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:"确 定"!=e.submit},on:{click:e.submitForm}},[e._v(e._s(e.submit))]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"dept")}},model:{value:e.deptExpand,callback:function(t){e.deptExpand=t},expression:"deptExpand"}},[e._v("展开/折叠")]),e._v(" "),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"dept")}},model:{value:e.deptNodeAll,callback:function(t){e.deptNodeAll=t},expression:"deptNodeAll"}},[e._v("全选/全不选")]),e._v(" "),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"dept")}},model:{value:e.form.deptCheckStrictly,callback:function(t){e.$set(e.form,"deptCheckStrictly",t)},expression:"form.deptCheckStrictly"}},[e._v("父子联动")]),e._v(" "),a("el-tree",{ref:"dept",staticClass:"tree-border",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"deptId","check-strictly":!e.form.deptCheckStrictly,"empty-text":"加载中，请稍后",props:e.deptProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("7f7f"),a("ac6a"),a("3528")),o=a("fcb7"),s={name:"Role",data:function(){return{submit:"确 定",loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,menuExpand:!1,menuNodeAll:!1,deptExpand:!0,deptNodeAll:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],clickedNode:null,deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},menuProps:{children:"children",label:"title"},deptProps:{children:"children",label:"deptName"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){var a=[];t.data.list&&t.data.list.forEach((function(e){e.status=""+e.status,a.push(e)})),e.roleList=a,e.total=t.data.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(i["b"])().then((function(t){e.menuOptions=t.data.menuList}))},getDeptTreeselect:function(){var e=this;deptTreeselect().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys();return e},getRoleDeptTreeselect:function(e){var t=this;Object(o["f"])(e).then((function(e){t.deptOptions=e.data.depts,t.$refs.dept&&t.$refs.dept.setCheckedKeys(e.data.checkedKeys,!0)}))},handleStatusChange:function(e){var t=this,a="1"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.name+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleCheckedTreeExpand:function(e,t){if("menu"==t)for(var a=this.menuOptions,l=0;l<a.length;l++)this.$refs.menu.store.nodesMap[a[l].id].expanded=e;else if("dept"==t)for(var n=this.deptOptions,i=0;i<n.length;i++)this.$refs.dept.store.nodesMap[n[i].deptId].expanded=e},handleCheckedTreeNodeAll:function(e,t){"menu"==t?this.$refs.menu.setCheckedNodes(e?this.menuOptions:[]):"dept"==t&&this.$refs.dept.setCheckedNodes(e?this.deptOptions:[])},handleCheckedTreeConnect:function(e,t){"menu"==t?this.form.menuCheckStrictly=!!e:"dept"==t&&(this.form.deptCheckStrictly=!!e)},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.menuExpand=!1,this.menuNodeAll=!1,this.deptExpand=!1,this.deptNodeAll=!1,this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"1",menuIds:[],deptIds:[],remark:"",dataScope:"3",menuCheckStrictly:!1,deptCheckStrictly:!1},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["g"])(a).then((function(e){t.form={roleId:e.data.role.id,roleName:e.data.role.name,roleKey:void 0,roleSort:e.data.role.listOrder,status:""+e.data.role.status,menuIds:e.data.checkedRules,deptIds:[],remark:e.data.role.remark,menuCheckStrictly:!1,deptCheckStrictly:!1},t.open=!0,t.title="修改角色",t.$nextTick((function(){t.menuOptions=e.data.menuList,t.$refs.menu.setCheckedKeys(e.data.checkedRules)}))}))},handleDataScope:function(e){var t=this;t.$nextTick((function(){t.getRoleDeptTreeselect(e.id)})),t.reset(),Object(i["g"])(e.id).then((function(e){t.form={roleId:e.data.role.id,roleName:e.data.role.name,roleKey:void 0,roleSort:e.data.role.listOrder,status:""+e.data.role.status,menuIds:e.data.checkedRules,deptIds:[],remark:e.data.role.remark,dataScope:""+e.data.role.dataScope,menuCheckStrictly:!1,deptCheckStrictly:!1},t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.submit="loading",void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["i"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg),e.submit="确 定"}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg),e.submit="确 定"}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(i["d"])(this.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["e"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["f"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},r=s,c=(a("1bf0"),a("2877")),u=Object(c["a"])(r,l,n,!1,null,"b07f3376",null);t["default"]=u.exports},"286a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择通知状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布站点",prop:"noticeId"}},[a("el-select",{attrs:{placeholder:"请选择发布站点",clearable:"",size:"small"},model:{value:e.queryParams.noticeId,callback:function(t){e.$set(e.queryParams,"noticeId",t)},expression:"queryParams.noticeId"}},e._l(e.noticeIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsNoticeLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"通知状态",align:"center",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"内容",align:"center",prop:"center",formatter:e.centerFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"通知管理id",align:"center",prop:"noticeId",formatter:e.noticeIdFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.noticeIdFormat(t.row))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsNoticeLog/delete"],expression:"['cms/cmsNoticeLog/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.submitForm(t.row)}}},[e._v("重新通知\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"通知状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择通知状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"relationId"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.relationId,callback:function(t){e.$set(e.form,"relationId",t)},expression:"form.relationId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通知管理id",prop:"noticeId"}},[a("el-select",{attrs:{placeholder:"请选择通知管理id"},model:{value:e.form.noticeId,callback:function(t){e.$set(e.form,"noticeId",t)},expression:"form.noticeId"}},e._l(e.noticeIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsNoticeLog/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsNoticeLog/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsNoticeLog/edit",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsNoticeLog/delete",method:"delete",data:{ids:e}})}function u(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/list",method:"get",params:e})}var d={components:{},name:"CmsNoticeLog",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsNoticeLogList:[],title:"",open:!1,typeOptions:[],statusOptions:[],noticeIdOptions:[],queryParams:{pageNum:1,pageSize:10,type:void 0,status:void 0,relationId:void 0,noticeId:void 0},form:{},rules:{}}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getDicts("common_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getCmsNoticeManageItems(),this.getList()},methods:{getCmsNoticeManageItems:function(){var e=this;this.getItems(u,{pageSize:1e4}).then((function(t){e.noticeIdOptions=e.setItems(t,"id","name")}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsNoticeLogList=t.data.list,e.total=t.data.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},noticeIdFormat:function(e,t){return this.selectItemsLabel(this.noticeIdOptions,e.noticeId)},centerFormat:function(e,t){var a=JSON.parse(e.content);return a.title},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,type:void 0,status:void 0,relationId:void 0,noticeId:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加通知记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.type=""+a.type,a.status=""+a.status,a.noticeId=""+a.noticeId,t.form=a,t.open=!0,t.title="修改通知记录"}))},submitForm:function(e){var t=this;e.status=0,r(e).then((function(e){0===e.code?(t.msgSuccess("修改成功"),t.open=!1,t.getList()):t.msgError(e.msg)}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除通知记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},"2adc":function(e,t,a){},"2d59":function(e,t,a){"use strict";a("ebec")},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return s}));var l={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},n=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],i=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],o=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"}],s={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"2ee3":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"站点ID"}},[a("el-input",{model:{value:e.ruleForm.webId,callback:function(t){e.$set(e.ruleForm,"webId",t)},expression:"ruleForm.webId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"站点名称",prop:"webName"}},[a("el-input",{model:{value:e.ruleForm.webName,callback:function(t){e.$set(e.ruleForm,"webName",t)},expression:"ruleForm.webName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"站点网址",prop:"webSite"}},[a("el-input",{model:{value:e.ruleForm.webSite,callback:function(t){e.$set(e.ruleForm,"webSite",t)},expression:"ruleForm.webSite"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站Logo",prop:"webLogo"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.upLoading,expression:"upLoading"}],staticClass:"avatar-uploader",attrs:{action:e.apiUrl+"/system/upload/upImg","show-file-list":!1,name:"file",data:e.setUpData(),"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"备案信息",prop:"recordInfo"}},[a("el-input",{model:{value:e.ruleForm.recordInfo,callback:function(t){e.$set(e.ruleForm,"recordInfo",t)},expression:"ruleForm.recordInfo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计代码",prop:"statisticsCode"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.statisticsCode,callback:function(t){e.$set(e.ruleForm,"statisticsCode",t)},expression:"ruleForm.statisticsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版权信息",prop:"CopyrightInfo"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.CopyrightInfo,callback:function(t){e.$set(e.ruleForm,"CopyrightInfo",t)},expression:"ruleForm.CopyrightInfo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},n=[],i=a("b775");function o(){return Object(i["a"])({url:"/system/config/sysWebSet",method:"get"})}function s(e){return Object(i["a"])({url:"/system/config/sysWebSet/update",method:"post",data:{webId:e.webId,webContent:e}})}var r=a("5f87"),c=(a("c38a"),{data:function(){return{imageUrl:"",upLoading:!1,ruleForm:{},rules:{webName:[{required:!0,message:"站点名称不能为空",trigger:"blur"}],webSite:[{required:!0,message:"站点网址不能为空",trigger:"blur"}]}}},created:function(){this.getWeb()},methods:{handleAvatarSuccess:function(e,t){0===e.code?(this.imageUrl=URL.createObjectURL(t.raw),this.ruleForm.webLogo=e.data.fileInfo.fileUrl):this.msgError(e.msg),this.upLoading=!1},beforeAvatarUpload:function(e){return this.upLoading=!0,!0},setUpData:function(){return{token:Object(r["a"])()}},getWeb:function(){var e=this;o().then((function(t){var a=t.data;if(a){var l=JSON.parse(a.webContent);e.ruleForm={webId:a.webId,webName:l.webName,webSite:l.webSite,webLogo:l.webLogo,recordInfo:l.recordInfo,statisticsCode:l.statisticsCode,CopyrightInfo:l.CopyrightInfo},e.imageUrl=e.getUpFileUrl(e.apiUrl,e.ruleForm.webLogo)}}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&s(t.ruleForm).then((function(e){0===e.code?t.msgSuccess("修改保存成功!"):t.msgError(e.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.imageUrl=""}}}),u=c,d=(a("b912"),a("2877")),m=Object(d["a"])(u,l,n,!1,null,null,null);t["default"]=m.exports},"33e0":function(e,t,a){},3439:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n      选择图标\n      "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),e._v(" "),a("div",[e._v(e._s(t))])])})),0)])],1)},n=[],i=a("de0a"),o=i.map((function(e){return"el-icon-".concat(e)})),s={inheritAttrs:!1,props:["current"],data:function(){return{iconList:o,active:null,key:""}},watch:{key:function(e){this.iconList=e?o.filter((function(t){return t.indexOf(e)>-1})):o}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},r=s,c=(a("666d"),a("2877")),u=Object(c["a"])(r,l,n,!1,null,"2375e96c",null);t["default"]=u.exports},3528:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return m}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/auth/roleList",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/system/auth/editRole/?roleId="+e,method:"get"})}function o(e){return Object(l["a"])({url:"/system/auth/addRole",method:"get"})}function s(e){return Object(l["a"])({url:"/system/auth/addRole",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/system/auth/editRole",method:"put",data:e})}function c(e){return Object(l["a"])({url:"/system/auth/roleDataScope",method:"put",data:e})}function u(e,t){var a={roleId:e,status:t};return Object(l["a"])({url:"/system/auth/statusSetRole",method:"put",data:a})}function d(e){return Object(l["a"])({url:"/system/auth/deleteRole",method:"delete",data:{ids:e}})}function m(e){return Object(l["a"])({url:"/system/role/export",method:"get",params:e})}},"35f0":function(e,t,a){},3865:function(e,t,a){},"3a7e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),e._v(" "),a("span",[e._v(e._s(t))])],1)])],1)})),0),e._v(" "),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateElementIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),e._v(" "),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use\n    ")])])}],i=a("c7e9"),o=a("bb49"),s={name:"Icons",data:function(){return{svgIcons:i["default"],elementIcons:o["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},r=s,c=(a("2d59"),a("2877")),u=Object(c["a"])(r,l,n,!1,null,"101db740",null);t["default"]=u.exports},"3fb9":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-row",[a("el-col",{staticClass:"colBlock",attrs:{span:8}},[a("el-form-item",{attrs:{label:"ID",prop:"id"}},[a("el-input",{attrs:{placeholder:"请输入ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.id,callback:function(t){e.$set(e.queryParams,"id",t)},expression:"queryParams.id"}})],1)],1),e._v(" "),a("el-col",{staticClass:"colBlock",attrs:{span:8}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1)],1),e._v(" "),a("el-col",{class:e.colBlock,attrs:{span:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/add"],expression:"['demo/demoDataAuth/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/edit"],expression:"['demo/demoDataAuth/edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/delete"],expression:"['demo/demoDataAuth/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.demoDataAuthList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建人",align:"center",prop:"createdUser","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding","min-width":"180px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/view"],expression:"['demo/demoDataAuth/view']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/edit"],expression:"['demo/demoDataAuth/edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["demo/demoDataAuth/delete"],expression:"['demo/demoDataAuth/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-drawer",{attrs:{title:e.title,visible:e.detail,size:"80%",direction:"ltr","modal-append-to-body":""},on:{"update:visible":function(t){e.detail=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"ID"}},[e._v(e._s(e.form.id))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标题"}},[e._v(e._s(e.form.title))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建人"}},[e._v(e._s(e.form.createdBy))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间"}},[e._v(e._s(e.parseTime(e.form.createdAt,"{y}-{m}-{d} {h}:{i}:{s}")))])],1)],1)],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/demo/demoDataAuth/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/demo/demoDataAuth/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/demo/demoDataAuth/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/demo/demoDataAuth/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/demo/demoDataAuth/delete",method:"delete",data:{ids:e}})}function d(e){return Object(i["a"])({url:"/system/auth/usersGet",method:"get",params:{ids:e}})}var m={components:{},name:"DemoDataAuth",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,showAll:!1,demoDataAuthList:[],title:"",open:!1,detail:!1,currentOp:"",queryParams:{pageNum:1,pageSize:10,id:void 0,title:void 0,createdBy:void 0,createdAt:void 0},form:{id:void 0,title:void 0,createdBy:void 0,updatedBy:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},computed:{word:function(){return!1===this.showAll?"展开搜索":"收起搜索"}},created:function(){this.getList()},methods:{toggleSearch:function(){this.showAll=!this.showAll},getAllLinkTableItems:function(){},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){var a=t.data.list||[],l=[];l=a.map((function(e){return e.createdBy})),d(l).then((function(t){var l=t.data||[];a.map((function(e){l.forEach((function(t){e.createdBy==t.id&&(e.createdUser=t.userNickname)}))})),e.demoDataAuthList=a})),e.total=t.data.total,e.loading=!1}))},cancel:function(){this.open=!1,this.currentOp="",this.reset()},reset:function(){this.form={id:void 0,title:void 0,createdBy:void 0,updatedBy:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.currentOp="create",this.title="添加数据权限测试"},handleView:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;t.form=a,t.detail=!0,t.title="数据权限测试详情"}))},handleUpdate:function(e){var t=this;this.reset(),this.getAllLinkTableItems();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;t.form=a,t.open=!0,t.currentOp="edit",t.title="修改数据权限测试"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&("edit"===e.currentOp?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.currentOp="",e.getList()):e.msgError(t.msg)})):"create"===e.currentOp&&r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.currentOp="",e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除数据权限测试编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},p=m,f=(a("0a35"),a("2877")),h=Object(f["a"])(p,l,n,!1,null,null,null);t["default"]=h.exports},4252:function(e,t,a){"use strict";a("0f99")},"4b3b":function(e,t,a){var l={"./":"1e4b","./cms/cmsAuthor/list":"e52c","./cms/cmsAuthor/list/":"e52c","./cms/cmsAuthor/list/index":"e52c","./cms/cmsAuthor/list/index.vue":"e52c","./cms/cmsCartoonList/list":"097c","./cms/cmsCartoonList/list/":"097c","./cms/cmsCartoonList/list/index":"097c","./cms/cmsCartoonList/list/index.vue":"097c","./cms/cmsClass/list":"f3c9","./cms/cmsClass/list/":"f3c9","./cms/cmsClass/list/index":"f3c9","./cms/cmsClass/list/index.vue":"f3c9","./cms/cmsCloudLog/list":"f472","./cms/cmsCloudLog/list/":"f472","./cms/cmsCloudLog/list/index":"f472","./cms/cmsCloudLog/list/index.vue":"f472","./cms/cmsDownloadList/list":"8bb1","./cms/cmsDownloadList/list/":"8bb1","./cms/cmsDownloadList/list/index":"8bb1","./cms/cmsDownloadList/list/index.vue":"8bb1","./cms/cmsFileList/list":"a31e","./cms/cmsFileList/list/":"a31e","./cms/cmsFileList/list/index":"a31e","./cms/cmsFileList/list/index.vue":"a31e","./cms/cmsLocal/list":"69d7","./cms/cmsLocal/list/":"69d7","./cms/cmsLocal/list/index":"69d7","./cms/cmsLocal/list/index.vue":"69d7","./cms/cmsNoticeLog/list":"286a","./cms/cmsNoticeLog/list/":"286a","./cms/cmsNoticeLog/list/index":"286a","./cms/cmsNoticeLog/list/index.vue":"286a","./cms/cmsNoticeManage/list":"6455","./cms/cmsNoticeManage/list/":"6455","./cms/cmsNoticeManage/list/index":"6455","./cms/cmsNoticeManage/list/index.vue":"6455","./cms/cmsNovelList/list":"9220","./cms/cmsNovelList/list/":"9220","./cms/cmsNovelList/list/index":"9220","./cms/cmsNovelList/list/index.vue":"9220","./cms/cmsSystem":"958f","./cms/cmsSystem/":"958f","./cms/cmsSystem/index":"958f","./cms/cmsSystem/index.vue":"958f","./cms/cmsVideoList/list":"a50e","./cms/cmsVideoList/list/":"a50e","./cms/cmsVideoList/list/index":"a50e","./cms/cmsVideoList/list/index.vue":"a50e","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./demo/demoDataAuth/list":"3fb9","./demo/demoDataAuth/list/":"3fb9","./demo/demoDataAuth/list/index":"3fb9","./demo/demoDataAuth/list/index.vue":"3fb9","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./index":"1e4b","./index.vue":"1e4b","./login":"dd7b","./login.vue":"dd7b","./redirect":"9b8f","./redirect.vue":"9b8f","./system/auth/dept":"b5d0","./system/auth/dept/":"b5d0","./system/auth/dept/index":"b5d0","./system/auth/dept/index.vue":"b5d0","./system/auth/menuList":"aceb","./system/auth/menuList/":"aceb","./system/auth/menuList/index":"aceb","./system/auth/menuList/index.vue":"aceb","./system/auth/post":"fe4a","./system/auth/post/":"fe4a","./system/auth/post/index":"fe4a","./system/auth/post/index.vue":"fe4a","./system/auth/roleList":"27ff","./system/auth/roleList/":"27ff","./system/auth/roleList/index":"27ff","./system/auth/roleList/index.vue":"27ff","./system/auth/userList":"c7ad","./system/auth/userList/":"c7ad","./system/auth/userList/index":"c7ad","./system/auth/userList/index.vue":"c7ad","./system/config/dict/dataList/data":"5360","./system/config/dict/dataList/data.vue":"5360","./system/config/dict/list":"cc2c","./system/config/dict/list/":"cc2c","./system/config/dict/list/index":"cc2c","./system/config/dict/list/index.vue":"cc2c","./system/config/params/list":"4f05","./system/config/params/list/":"4f05","./system/config/params/list/index":"4f05","./system/config/params/list/index.vue":"4f05","./system/config/webSet":"2ee3","./system/config/webSet/":"2ee3","./system/config/webSet/index":"2ee3","./system/config/webSet/index.vue":"2ee3","./system/log":"b380","./system/log/":"b380","./system/log/index":"b380","./system/log/index.vue":"b380","./system/model/category/list":"695e","./system/model/category/list/":"695e","./system/model/category/list/index":"695e","./system/model/category/list/index.vue":"695e","./system/model/info/list":"10f8","./system/model/info/list/":"10f8","./system/model/info/list/fields":"7ec5","./system/model/info/list/fields.vue":"7ec5","./system/model/info/list/index":"10f8","./system/model/info/list/index.vue":"10f8","./system/monitor/druid":"d4cd","./system/monitor/druid/":"d4cd","./system/monitor/druid/index":"d4cd","./system/monitor/druid/index.vue":"d4cd","./system/monitor/job":"ebab","./system/monitor/job/":"ebab","./system/monitor/job/index":"ebab","./system/monitor/job/index.vue":"ebab","./system/monitor/job/log":"735e","./system/monitor/job/log.vue":"735e","./system/monitor/logininfor":"f2d2","./system/monitor/logininfor/":"f2d2","./system/monitor/logininfor/index":"f2d2","./system/monitor/logininfor/index.vue":"f2d2","./system/monitor/online/list":"cb40","./system/monitor/online/list/":"cb40","./system/monitor/online/list/index":"cb40","./system/monitor/online/list/index.vue":"cb40","./system/monitor/operlog":"dbe2","./system/monitor/operlog/":"dbe2","./system/monitor/operlog/index":"dbe2","./system/monitor/operlog/index.vue":"dbe2","./system/monitor/server":"cfd5","./system/monitor/server/":"cfd5","./system/monitor/server/index":"cfd5","./system/monitor/server/index.vue":"cfd5","./system/notice":"202d","./system/notice/":"202d","./system/notice/index":"202d","./system/notice/index.vue":"202d","./system/pluginsManage/list":"bae0","./system/pluginsManage/list/":"bae0","./system/pluginsManage/list/index":"bae0","./system/pluginsManage/list/index.vue":"bae0","./system/role":"70eb","./system/role/":"70eb","./system/role/index":"70eb","./system/role/index.vue":"70eb","./system/tools/api":"eff7","./system/tools/api/":"eff7","./system/tools/api/index":"eff7","./system/tools/api/index.vue":"eff7","./system/tools/build":"0e6d","./system/tools/build/":"0e6d","./system/tools/build/CodeTypeDialog":"e1fc","./system/tools/build/CodeTypeDialog.vue":"e1fc","./system/tools/build/DraggableItem":"1000","./system/tools/build/DraggableItem.vue":"1000","./system/tools/build/IconsDialog":"3439","./system/tools/build/IconsDialog.vue":"3439","./system/tools/build/RightPanel":"574f","./system/tools/build/RightPanel.vue":"574f","./system/tools/build/TreeNodeDialog":"de1e","./system/tools/build/TreeNodeDialog.vue":"de1e","./system/tools/build/index":"0e6d","./system/tools/build/index.vue":"0e6d","./system/tools/gen":"5018","./system/tools/gen/":"5018","./system/tools/gen/basicInfoForm":"6ff4","./system/tools/gen/basicInfoForm.vue":"6ff4","./system/tools/gen/editTable":"c6bd","./system/tools/gen/editTable.vue":"c6bd","./system/tools/gen/genInfoForm":"6a66","./system/tools/gen/genInfoForm.vue":"6a66","./system/tools/gen/importTable":"e10b","./system/tools/gen/importTable.vue":"e10b","./system/tools/gen/index":"5018","./system/tools/gen/index.vue":"5018","./system/user/profile":"4c1b","./system/user/profile/":"4c1b","./system/user/profile/index":"4c1b","./system/user/profile/index.vue":"4c1b","./system/user/profile/resetPwd":"ee46","./system/user/profile/resetPwd.vue":"ee46","./system/user/profile/userAvatar":"9429","./system/user/profile/userAvatar.vue":"9429","./system/user/profile/userInfo":"1e8b","./system/user/profile/userInfo.vue":"1e8b"};function n(e){var t=i(e);return a(t)}function i(e){var t=l[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(l)},n.resolve=i,e.exports=n,n.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/tools/gen/tableList",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/system/tools/gen/dataList",method:"get",params:e})}function o(e){return Object(l["a"])({url:"/system/tools/gen/columnList?tableId="+e,method:"get"})}function s(){return Object(l["a"])({url:"/system/tools/gen/relationTable",method:"get"})}function r(e){return Object(l["a"])({url:"/system/tools/gen/editSave",method:"put",data:e})}function c(e){return Object(l["a"])({url:"/system/tools/gen/importTableSave",method:"post",params:e})}function u(e){return Object(l["a"])({url:"/system/tools/gen/preview?tableId="+e,method:"get"})}function d(e){return Object(l["a"])({url:"/system/tools/gen/delete",method:"delete",data:{ids:e}})}function m(e){return Object(l["a"])({url:"/system/tools/gen/batchGenCode",method:"put",data:{ids:e}})}},"4f05":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions.values,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数主键",align:"center",prop:"configId"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名"},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("c0c3")),o={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],title:"",open:!1,typeOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.data.list,e.total=t.data.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions.values,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(i["d"])(a).then((function(e){t.form={configId:e.data.configId,configName:e.data.configName,configKey:e.data.configKey,configValue:e.data.configValue,configType:""+e.data.configType,remark:e.data.remark},t.open=!0,t.title="修改参数"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.configId?Object(i["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},"4fd5":function(e,t,a){"use strict";a("b7a7")},5018:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"mini",disabled:e.multiple},on:{click:e.handleGenTable}},[e._v("生成")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,l){return a("el-tab-pane",{key:l,attrs:{label:l,name:l}},[a("pre",[e._v(e._s(t))])])})),1)],1),e._v(" "),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},n=[],i=a("4b72"),o=a("e10b"),s={name:"Gen",components:{importTable:o["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"controller"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(i["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.data.list,e.total=t.data.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=this,a=e.tableId||this.ids;this.$confirm("是否确认要生成对应的代码文件，部分数据将被覆盖? 生成后请重启前后端服务。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["a"])(a)})).then((function(){t.msgSuccess("生成成功")})).catch((function(){}))},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(i["h"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/gen/edit",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},r=s,c=a("2877"),u=Object(c["a"])(r,l,n,!1,null,null,null);t["default"]=u.exports},5360:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions.values,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统默认"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"1","inactive-value":"0"},model:{value:e.form.isDefault,callback:function(t){e.$set(e.form,"isDefault",t)},expression:"form.isDefault"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("aa3a")),o={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictType;this.queryParams.dictType=t,this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["f"])(this.queryParams).then((function(t){e.dataList=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions.values,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,isDefault:"0",status:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(i["d"])(a).then((function(e){t.form={dictType:e.data.dictType,dictCode:e.data.dictCode,dictLabel:e.data.dictLabel,dictValue:e.data.dictValue,dictSort:e.data.dictSort,isDefault:""+e.data.isDefault,status:""+e.data.status,remark:e.data.remark},t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?Object(i["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},"555d":function(e,t,a){"use strict";a("2adc")},"574f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),e._v(" "),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),e._v(" "),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),e._v(" "),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),e._v(" "),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v("\n          "+e._s(e.activeData.componentName)+"\n        ")]):e._e(),e._v(" "),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),e._v(" "),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),e._v(" "),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),e._v(" "),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),e._v(" "),a("el-radio-button",{attrs:{label:"middle"}}),e._v(" "),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e._v(" "),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e._v(" "),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),e._v(" "),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),e._v(" "),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e._v(" "),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),e._v(" "),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右侧\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v("\n              个字符\n            ")])],2)],1):e._e(),e._v(" "),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),e._v(" "),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),e._v(" "),a("el-option",{attrs:{label:"视频",value:"video/*"}}),e._v(" "),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),e._v(" "),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),e._v(" "),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),e._v(" "),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),e._v(" "),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),e._v(" "),a("el-option",{attrs:{label:"MB",value:"MB"}}),e._v(" "),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),e._v(" "),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),e._v(" "),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v("\n              text\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture"}},[e._v("\n              picture\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v("\n              picture-card\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),e._v(" "),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),e._v(" "),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),e._v(" "),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,l){return a("div",{key:l,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),e._v(" "),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),e._v(" "),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),e._v(" "),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(l,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v("\n              添加选项\n            ")])],1),e._v(" "),a("el-divider")]:e._e(),e._v(" "),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("\n                动态数据\n              ")]),e._v(" "),a("el-radio-button",{attrs:{label:"static"}},[e._v("\n                静态数据\n              ")])],1)],1),e._v(" "),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),e._v(" "),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),e._v(" "),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v("\n              添加父级\n            ")])],1):e._e(),e._v(" "),a("el-divider")]:e._e(),e._v(" "),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"button"}},[e._v("\n              按钮\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),e._v(" "),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),e._v(" "),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),e._v(" "),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),e._v(" "),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e._v(" "),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),e._v(" "),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node,n=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":n.tagIcon}}),e._v("\n                "+e._s(l.label)+"\n              ")],1)])}}],null,!1,2951611081)})]:e._e(),e._v(" "),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._v(" "),e._l(e.activeData.regList,(function(t,l){return a("div",{key:l,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(l,1)}}},[a("i",{staticClass:"el-icon-close"})]),e._v(" "),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v("\n              添加规则\n            ")])],1)]:e._e()],2),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("\n              左对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"top"}},[e._v("\n              顶部对齐\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),e._v(" "),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),e._v(" "),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},n=[],i=(a("7514"),a("28a5"),a("20d6"),a("1980")),o=a.n(i),s=a("3022"),r=a("de1e"),c=a("ed08"),u=a("3439"),d=a("2e2a"),m={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},p={components:{draggable:o.a,TreeNodeDialog:r["default"],IconsDialog:u["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:d["b"]},{label:"选择型组件",options:d["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,l=t.node,n=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[l.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(n)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(l,n)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,l=a.data.children||a.data,n=l.findIndex((function(e){return e.id===t.id}));l.splice(n,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(c["g"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(s["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(c["g"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(c["g"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(c["g"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?m.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(m[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=d["b"].find((function(t){return t.tagIcon===e}));t||(t=d["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},f=p,h=(a("5efe"),a("2877")),v=Object(h["a"])(f,l,n,!1,null,"e7edb732",null);t["default"]=v.exports},"57ff":function(e,t,a){},"5efe":function(e,t,a){"use strict";a("c6a5")},6455:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsNoticeManage/add"],expression:"['cms/cmsNoticeManage/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsNoticeManage/delete"],expression:"['cms/cmsNoticeManage/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsNoticeManageList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布api",align:"center",prop:"url"}}),e._v(" "),a("el-table-column",{attrs:{label:"自动发布",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.statusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsNoticeManage/delete"],expression:"['cms/cmsNoticeManage/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发布api",prop:"url"}},[a("el-input",{attrs:{placeholder:"发布api地址 通知采用POST FORM方式"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsNoticeManage/delete",method:"delete",data:{ids:e}})}function d(e,t){var a={id:e,status:t};return Object(i["a"])({url:"/cms/cmsNoticeManage/changeStatus",method:"put",data:a})}var m={components:{},name:"CmsNoticeManage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsNoticeManageList:[],title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,name:void 0,url:void 0,status:void 0},form:{},rules:{name:[{required:!0,message:"同步名称不能为空",trigger:"blur"}],url:[{required:!0,message:"通知地址不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getDicts("common_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getList()},methods:{statusChange:function(e){var t=this,a=1===e.status?"启用":"停用";this.$confirm('确认要"'+a+'"：吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.userStatus=0===e.userStatus?1:0}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsNoticeManageList=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,url:void 0,status:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加通知管理"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.status=""+a.status,t.form=a,t.open=!0,t.title="修改通知管理"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除通知管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},p=m,f=a("2877"),h=Object(f["a"])(p,l,n,!1,null,null,null);t["default"]=h.exports},"666d":function(e,t,a){"use strict";a("1f23")},"695e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cName"}},[a("el-input",{attrs:{placeholder:"请输入分类名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.cName,callback:function(t){e.$set(e.queryParams,"cName",t)},expression:"queryParams.cName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"cStatus"}},[a("el-select",{attrs:{placeholder:"分类状态",clearable:"",size:"small"},model:{value:e.queryParams.cStatus,callback:function(t){e.$set(e.queryParams,"cStatus",t)},expression:"queryParams.cStatus"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-sort",size:"mini"},on:{click:e.handleSort}},[e._v("排序")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.listdata},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类编号",align:"center",prop:"cId"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"cName"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cSort",label:"排序",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini"},model:{value:t.row.cSort,callback:function(a){e.$set(t.row,"cSort",a)},expression:"scope.row.cSort"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"cStatus",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cName"}},[a("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.form.cName,callback:function(t){e.$set(e.form,"cName",t)},expression:"form.cName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类顺序",prop:"cSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.cSort,callback:function(t){e.$set(e.form,"cSort",t)},expression:"form.cSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类状态",prop:"cStatus"}},[a("el-radio-group",{model:{value:e.form.cStatus,callback:function(t){e.$set(e.form,"cStatus",t)},expression:"form.cStatus"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("0e1e")),o={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,listdata:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,cName:void 0,cstatus:void 0},form:{},rules:{cName:[{required:!0,message:"分类名称不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.queryParams).then((function(t){e.listdata=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,""+e.cStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={cId:void 0,cName:"",cSort:0,cStatus:"1"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.cId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加模型分类"},handleUpdate:function(e){var t=this;this.reset();var a=e.cId||this.ids;Object(i["c"])(a).then((function(e){var a=e.data;a&&(t.form={cId:a.cId,cName:a.cName,cSort:a.cSort,cStatus:""+a.cStatus}),t.open=!0,t.title="修改模型分类"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.cId?Object(i["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.cId?[e.cId]:this.ids;this.$confirm('是否确认删除模型分类编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有模型分类数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return exportPost(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleSort:function(){var e=this,t={};this.listdata.forEach((function(e){t[e.cId]=e.cSort})),Object(i["f"])(t).then((function(t){0===t.code?(e.msgSuccess("排序成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},"69d7":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"内容类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"国家名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入国家名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsLocal/add"],expression:"['cms/cmsLocal/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsLocal/delete"],expression:"['cms/cmsLocal/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsLocalList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"国家名",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsLocal/edit"],expression:"['cms/cmsLocal/edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsLocal/delete"],expression:"['cms/cmsLocal/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"内容类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"国家名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入国家名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsLocal/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsLocal/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsLocal/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsLocal/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsLocal/delete",method:"delete",data:{ids:e}})}var d={components:{},name:"CmsLocal",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsLocalList:[],title:"",open:!1,typeOptions:[],queryParams:{pageNum:1,pageSize:10,type:void 0,name:void 0,createdAt:void 0},form:{},rules:{name:[{required:!0,message:"国家名不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsLocalList=t.data.list,e.total=t.data.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,type:void 0,name:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加地区列表"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.type=""+a.type,t.form=a,t.open=!0,t.title="修改地区列表"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除地区列表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},"6a66":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),e._v(" "),a("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),e._v(" "),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成包路径\n          "),a("el-tooltip",{attrs:{content:"生成在哪个包下，例如 gfast/app/system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成模块名\n          "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成业务名\n          "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成功能名\n          "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.htmlField,attrs:{label:e.columnName+"："+e.columnComment,value:e.htmlField}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树父编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.htmlField,attrs:{label:e.columnName+"："+e.columnComment,value:e.htmlField}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树名称字段\n          "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.htmlField,attrs:{label:e.columnName+"："+e.columnComment,value:e.htmlField}})})),1)],1)],1)],1)],1)},n=[],i={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},beforeCreate:function(){}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,null,null);t["default"]=r.exports},"6ff4":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},n=[],i={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,null,null);t["default"]=r.exports},"70eb":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("3528"),o=a("a6dc"),s=a("fcb7"),r={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(o["g"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(s["g"])().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getHalfCheckedKeys(),t=this.$refs.dept.getCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;Object(o["f"])(e).then((function(e){t.menuOptions=e.menus,t.$refs.menu.setCheckedKeys(e.checkedKeys)}))},getRoleDeptTreeselect:function(e){var t=this;Object(s["f"])(e).then((function(e){t.deptOptions=e.depts,t.$refs.dept.setCheckedKeys(e.checkedKeys)}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;this.$nextTick((function(){t.getRoleMenuTreeselect(a)})),Object(i["g"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色"}))},handleDataScope:function(e){var t=this;this.reset(),this.$nextTick((function(){t.getRoleDeptTreeselect(e.roleId)})),Object(i["g"])(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["i"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(i["d"])(this.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["e"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["f"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},"735e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:jobLog:export"],expression:"['monitor:jobLog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,"show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),e._v(" "),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},n=[],i=a("bd86"),o=a("b775");function s(e){return Object(o["a"])({url:"/monitor/jobLog/list",method:"get",params:e})}function r(e){return Object(o["a"])({url:"/monitor/jobLog/"+e,method:"delete"})}function c(){return Object(o["a"])({url:"/monitor/jobLog/clean",method:"delete"})}function u(e){return Object(o["a"])({url:"/monitor/jobLog/export",method:"get",params:e})}var d={name:"JobLog",data:function(){return Object(i["a"])({loading:!0,ids:[],multiple:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},statusOptions:[],jobGroupOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}},"form",{})},created:function(){var e=this;this.getList(),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,s(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$confirm('是否确认删除调度日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},"739a":function(e,t,a){"use strict";a("c369")},"7ec5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dragTable",attrs:{data:e.fieldsList,"row-key":"fieldId"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{staticClass:"drag-handler",attrs:{"icon-class":"drag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段编号",align:"center",width:"50",prop:"fieldId"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段名称",align:"center",prop:"fieldName"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段标题",align:"center",prop:"fieldTitle"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段类型",align:"center",prop:"fieldType"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段规则",align:"center",prop:"fieldRules"}}),e._v(" "),a("el-table-column",{attrs:{label:"主键","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.fieldId},model:{value:e.fieldPkId,callback:function(t){e.fieldPkId=t},expression:"fieldPkId"}},[e._v("是")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"排序字段","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.modelSort,callback:function(a){e.$set(t.row,"modelSort",a)},expression:"scope.row.modelSort"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表显示","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.modelList,callback:function(a){e.$set(t.row,"modelList",a)},expression:"scope.row.modelList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"可编辑","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.modelEdit,callback:function(a){e.$set(t.row,"modelEdit",a)},expression:"scope.row.modelEdit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模型索引","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.modelIndexes,callback:function(a){e.$set(t.row,"modelIndexes",a)},expression:"scope.row.modelIndexes"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表查询","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.searchList,callback:function(a){e.$set(t.row,"searchList",a)},expression:"scope.row.searchList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormList()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"字段名称",prop:"fieldName"}},[a("el-input",{attrs:{placeholder:"请输入字段名称"},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段标题",prop:"fieldTitle"}},[a("el-input",{attrs:{placeholder:"请输入字段标题"},model:{value:e.form.fieldTitle,callback:function(t){e.$set(e.form,"fieldTitle",t)},expression:"form.fieldTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段类型",prop:"fieldType"}},[a("el-select",{on:{change:e.typeChange},model:{value:e.form.fieldType,callback:function(t){e.$set(e.form,"fieldType",t)},expression:"form.fieldType"}},e._l(e.fieldsType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.tagShow.inputData,expression:"tagShow.inputData"}],attrs:{prop:"fieldData"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              字段数据\n              "),a("el-tooltip",{attrs:{content:"格式:'1:text1,2:text2,3:text3' 或 '数据表名|值字段名|标题字段名(|排序字段)(|条件)' 或 :字典编码",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入字段数据"},model:{value:e.form.fieldData,callback:function(t){e.$set(e.form,"fieldData",t)},expression:"form.fieldData"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.tagShow.inputLength,expression:"tagShow.inputLength"}],attrs:{label:"字段长度",prop:"fieldLength"}},[a("el-input",{attrs:{placeholder:"请输入字段长度"},model:{value:e.form.fieldLength,callback:function(t){e.$set(e.form,"fieldLength",t)},expression:"form.fieldLength"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.tagShow.inputDefault,expression:"tagShow.inputDefault"}],attrs:{label:"字段默认值",prop:"fieldDefault"}},[a("el-input",{attrs:{placeholder:"请输入字段默认值 地图类型时'lng,lat'"},model:{value:e.form.fieldDefault,callback:function(t){e.$set(e.form,"fieldDefault",t)},expression:"form.fieldDefault"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段说明",prop:"fieldDesc"}},[a("el-input",{attrs:{placeholder:"请输入字段说明"},model:{value:e.form.fieldDesc,callback:function(t){e.$set(e.form,"fieldDesc",t)},expression:"form.fieldDesc"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.tagShow.inputRules,expression:"tagShow.inputRules"}],attrs:{label:"字段规则",prop:"fieldRules"}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.fieldRules,callback:function(t){e.$set(e.form,"fieldRules",t)},expression:"form.fieldRules"}},e._l(e.fieldsRules,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字段列表显示宽度",prop:"fieldWidth"}},[a("el-input",{attrs:{placeholder:"请输入字段列表显示宽度"},model:{value:e.form.fieldWidth,callback:function(t){e.$set(e.form,"fieldWidth",t)},expression:"form.fieldWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段列表对齐方式",prop:"fieldAlign"}},[a("el-input",{attrs:{placeholder:"请输入字段列表对齐方式"},model:{value:e.form.fieldAlign,callback:function(t){e.$set(e.form,"fieldAlign",t)},expression:"form.fieldAlign"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("28a5"),a("6762"),a("2fdb"),a("b775"));function o(e){return Object(i["a"])({url:"/system/model/fields/add",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/system/model/fields/list",method:"get",params:{modelId:e}})}function r(e,t,a){return Object(i["a"])({url:"/system/model/fields/setFieldsAttr",method:"post",data:{fieldsList:e,pkId:t,modelId:a}})}function c(e){return Object(i["a"])({url:"/system/model/fields/info?id="+e,method:"get"})}function u(e){return Object(i["a"])({url:"/system/model/fields/edit",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/system/model/fields/delete",method:"delete",data:{ids:e}})}var m=a("53fe"),p=a.n(m),f={name:"Post",data:function(){return{loading:!0,ids:[],fieldPkId:null,single:!0,multiple:!0,fieldsList:[],oldList:[],newList:[],title:"",open:!1,statusOptions:[],fieldsType:[{value:"text",label:"文本"},{value:"baidu_map",label:"百度地图坐标"},{value:"imagefile",label:"单图片"},{value:"images",label:"多图片"},{value:"file",label:"单文件"},{value:"files",label:"多文件"},{value:"selecttext",label:"选择文本"},{value:"currency",label:"货币"},{value:"large_number",label:"长整型"},{value:"number",label:"整数"},{value:"datetime",label:"日期时间"},{value:"date",label:"日期"},{value:"selectnumber",label:"选择数字"},{value:"richtext",label:"富文本"},{value:"bigtext",label:"文本域"},{value:"switch",label:"开关"},{value:"checkbox",label:"多选框"},{value:"DepartmentSelector",label:"部门选择器"}],fieldsRules:[{value:"lengthfixed",label:"lengthfixed"},{value:"required",label:"required"},{value:"unsigned",label:"unsigned"},{value:"unique",label:"unique"},{value:"readonly",label:"readonly"},{value:"hidden",label:"hidden"}],dataSelect:["selecttext","checkbox","selectnumber"],tagShow:{inputData:!1,inputLength:!1,inputDefault:!1,inputRules:!0},modelId:0,form:{},rules:{fieldName:[{required:!0,message:"字段名称不能为空",trigger:"blur"}],fieldTitle:[{required:!0,message:"字段标题不能为空",trigger:"blur"}],fieldType:[{required:!0,message:"字段类型不能为空",trigger:"change"}]}}},created:function(){var e=this.$route.query.modelId;e&&(this.modelId=e),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,s(this.modelId).then((function(t){e.fieldsList=t.data.list?t.data.list:[],e.oldList=e.fieldsList.map((function(t){return"1"==t.modelPk&&(e.fieldPkId=t.fieldId),t.fieldId})),e.newList=e.oldList.slice(),e.loading=!1,e.$nextTick((function(){e.setSort()}))}))},typeChange:function(e){this.showOption(e)},showOption:function(e){this.dataSelect.includes(e)?(this.tagShow.inputData=!0,this.tagShow.inputLength=!1):"text"==e?(this.tagShow.inputData=!1,this.tagShow.inputLength=!0):(this.tagShow.inputData=!1,this.tagShow.inputLength=!1),this.tagShow.inputDefault="imagefile"!=e&&"images"!=e&&"file"!=e&&"files"!=e,this.tagShow.inputRules="switch"!=e},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={fieldId:void 0,modelId:this.modelId,fieldName:void 0,fieldTitle:void 0,fieldType:"",fieldData:void 0,fieldLength:void 0,fieldDefault:void 0,fieldDesc:void 0,fieldRules:[],fieldWidth:"",fieldAlign:""},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.fieldId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字段"},handleUpdate:function(e){var t=this;this.reset();var a=e.fieldId||this.ids;c(a).then((function(e){var a=e.data;a&&(t.form={fieldId:a.fieldId,modelId:a.modelId,fieldName:a.fieldName,fieldTitle:a.fieldTitle,fieldType:a.fieldType,fieldData:a.fieldData,fieldLength:a.fieldLength,fieldDefault:a.fieldDefault,fieldDesc:a.fieldDesc,fieldRules:""!=a.fieldRules?a.fieldRules.split(","):[],fieldWidth:a.fieldWidth,fieldAlign:a.fieldAlign},t.showOption(t.form.fieldType)),t.open=!0,t.title="修改字段"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.fieldId?u(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):o(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},submitFormList:function(){var e=this;r(this.fieldsList,this.fieldPkId,this.modelId).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.getList()):e.msgError(t.msg)}))},handleDelete:function(e){var t=this,a=e.fieldId?[e.fieldId]:this.ids;this.$confirm('是否确认删除字段编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},setSort:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=p.a.create(t,{ghostClass:"sortable-ghost",setData:function(e){e.setData("Text","")},onEnd:function(t){var a=e.fieldsList.splice(t.oldIndex,1)[0];e.fieldsList.splice(t.newIndex,0,a);var l=e.newList.splice(t.oldIndex,1)[0];e.newList.splice(t.newIndex,0,l)}})},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/model/list",query:{t:Date.now()}})}}},h=f,v=a("2877"),b=Object(v["a"])(h,l,n,!1,null,null,null);t["default"]=b.exports},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_2__),_utils_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],l=[],n=[],i=[],o=mixinMethod(t),s=[];e.fields.forEach((function(e){buildAttributes(e,a,l,n,o,i,s)}));var r=buildexport(e,t,a.join("\n"),l.join("\n"),n.join("\n"),s.join("\n"),i.join("\n"),o.join("\n"));return confGlobal=null,r}function buildAttributes(e,t,a,l,n,i,o){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,l),"dynamic"===e.dataType)){var s="".concat(e.vModel,"Options"),r=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__["j"])(s);buildOptionMethod("get".concat(r),s,n)}e.props&&e.props.props&&buildProps(e,i),e.action&&"el-upload"===e.tag&&(o.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),n.push(buildBeforeUpload(e)),e["auto-upload"]||n.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,l,n,i,o)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},l=a[e];return l&&Object.keys(l).forEach((function(e){t.push(l[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",l="",n=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),n.push("isRightSize")),e.accept&&(l="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),n.push("isAccept"));var i="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(l,"\n    return ").concat(n.join("&&"),"\n  },");return n.length?i:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var l="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(l)}function buildexport(e,t,a,l,n,i,o,s){var r="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_3__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(l,"\n      },\n      ").concat(i,"\n      ").concat(n,"\n      ").concat(o,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(s,"\n  }\n}");return r}},"8bb1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.content,callback:function(t){e.$set(e.queryParams,"content",t)},expression:"queryParams.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下载地址",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入下载地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.url,callback:function(t){e.$set(e.queryParams,"url",t)},expression:"queryParams.url"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/add"],expression:"['cms/cmsDownloadList/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/delete"],expression:"['cms/cmsDownloadList/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"row-key":e.getrowkey,border:"",data:e.cmsDownloadListList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center","reserve-selection":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"内容",align:"center",prop:"content","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"下载地址",align:"center",prop:"url","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"缓存目录",align:"center",prop:"path","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/delete"],expression:"['cms/cmsDownloadList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:20,placeholder:"直连文件录入内容规则：\n\n1、录入内容的顺序为：下载地址|标题|分类|标签|地区|作者|简介\n\n2、缺省项可不填，用|代替，但录入的先后顺序不能改变，比如：下载地址|标题|||||简介\n\n3、中间的缺省内容用|分隔，如果末尾的内容为缺省项，可直接省略，比如：文件地址|标题\n\n4、每组信息一行，多组用回车换行。注意文本框内内容过长导致的自然换行不算回车换行。\n如:\nhttp://www.baidu.com/index.mp4|唐伯虎点秋香|喜剧|搞笑,爱情|中国|周星驰|周星驰经典系列电影\nhttp://www.bcc.cm/index.txt|星辰变第一章|修仙|仙侠,爱情|中国|我吃西红柿|我吃西红柿经典系列小说"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsDownloadList/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsDownloadList/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsDownloadList/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsDownloadList/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsDownloadList/delete",method:"delete",data:{ids:e}})}function d(e,t){var a={id:e,status:t};return Object(i["a"])({url:"/cms/cmsDownloadList/changeStatus",method:"put",data:a})}var m={components:{},name:"CmsDownloadList",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsDownloadListList:[],title:"",open:!1,typeOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,type:void 0,status:void 0,content:void 0,url:void 0,createdAt:void 0},form:{},rules:{type:[{required:!0,message:"类型不能为空",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}],url:[{required:!0,message:"下载地址不能为空",trigger:"blur"}]},timer:null}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getDicts("dow_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getList(),this.timer=1,this.timerIng()},beforeDestroy:function(){this.timer=0},methods:{timerIng:function(){var e=this;this.getList2((function(){1==e.timer&&setTimeout(e.timerIng,2e3)}))},statusChange:function(e){var t=this,a=1===e.status?"启用":"停用";this.$confirm('确认要"'+a+'"：吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.userStatus=0===e.userStatus?1:0}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsDownloadListList=t.data.list,e.total=t.data.total,e.loading=!1}))},getList2:function(e){var t=this;o(this.queryParams).then((function(a){t.cmsDownloadListList=a.data.list,t.total=a.data.total,e()}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},statusFormat:function(e,t){return 2==e.status?2==e.status?e.progress+"%":"":this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,type:void 0,status:void 0,content:void 0,url:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加下载列"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.type=""+a.type,a.status=""+a.status,t.form=a,t.open=!0,t.title="修改下载列"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},getrowkey:function(e){return e.id},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除下载列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},p=m,f=a("2877"),h=Object(f["a"])(p,l,n,!1,null,null,null);t["default"]=h.exports},9220:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"uuid",prop:"uuid"}},[a("el-input",{attrs:{placeholder:"请输入uuid",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.uuid,callback:function(t){e.$set(e.queryParams,"uuid",t)},expression:"queryParams.uuid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.queryParams.classId,callback:function(t){e.$set(e.queryParams,"classId",t)},expression:"queryParams.classId"}},e._l(e.classIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"authorId"}},[a("el-select",{attrs:{placeholder:"请选择作者",clearable:"",size:"small"},model:{value:e.queryParams.authorId,callback:function(t){e.$set(e.queryParams,"authorId",t)},expression:"queryParams.authorId"}},e._l(e.authorIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地区",prop:"localId"}},[a("el-select",{attrs:{placeholder:"请选择地区",clearable:"",size:"small"},model:{value:e.queryParams.localId,callback:function(t){e.$set(e.queryParams,"localId",t)},expression:"queryParams.localId"}},e._l(e.localIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/add"],expression:"['cms/cmsVideoList/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.cmsNovelListList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"uuid",align:"center",prop:"uuid","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"分类",align:"center",prop:"classId",formatter:e.classIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.classIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"作者",align:"center",prop:"authorId",formatter:e.authorIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.authorIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"地区",align:"center",prop:"localId",formatter:e.localIdFormat,width:"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.localIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"标签",align:"center",prop:"tag","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsNovelList/delete"],expression:"['cms/cmsNovelList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.addsopen,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.addsopen=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("upload-files",{attrs:{successCall:e.successCall,accept:"text/*",explain:"文件标题内容规则：\n\n1、录入内容的顺序为：标题@分类@标签@地区@作者@简介\n\n2、缺省项可不填，用@代替，但录入的先后顺序不能改变，比如：标题@@@@@简介\n\n3、中间的缺省内容用@分隔，如果末尾的内容为缺省项，可直接省略，比如：标题\n\n如:\n唐伯虎点秋香|喜剧|搞笑,爱情|中国|周星驰|周星驰经第一章.txt\n"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.classId,callback:function(t){e.$set(e.form,"classId",t)},expression:"form.classId"}},e._l(e.classIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"authorId"}},[a("el-select",{attrs:{placeholder:"请选择作者"},model:{value:e.form.authorId,callback:function(t){e.$set(e.form,"authorId",t)},expression:"form.authorId"}},e._l(e.authorIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"区域",prop:"localId"}},[a("el-select",{attrs:{placeholder:"请选择区域"},model:{value:e.form.localId,callback:function(t){e.$set(e.form,"localId",t)},expression:"form.localId"}},e._l(e.localIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签",prop:"tag"}},[a("el-input",{attrs:{placeholder:"请输入标签"},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"介绍",prop:"introduce"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入介绍"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他",prop:"other"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入其他"},model:{value:e.form.other,callback:function(t){e.$set(e.form,"other",t)},expression:"form.other"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("a481"),a("28a5"),a("7f7f"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsNovelList/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsNovelList/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsNovelList/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsNovelList/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsNovelList/delete",method:"delete",data:{ids:e}})}function d(e){return Object(i["a"])({url:"/cms/cmsClass/list",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/cms/cmsAuthor/list",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/cms/cmsLocal/list",method:"get",params:e})}var f=a("c006"),h=(a("c2d0"),{components:{UploadFiles:f["a"]},name:"CmsNovelList",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsNovelListList:[],title:"",open:!1,classIdOptions:[],authorIdOptions:[],localIdOptions:[],queryParams:{pageNum:1,pageSize:10,uuid:void 0,title:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0},addsopen:!1,form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],classId:[{required:!0,message:"分类不能为空",trigger:"blur"}],authorId:[{required:!0,message:"作者不能为空",trigger:"blur"}],localId:[{required:!0,message:"区域不能为空",trigger:"blur"}]}}},created:function(){this.getCmsClassItems(),this.getCmsAuthorItems(),this.getCmsLocalItems(),this.getList()},methods:{getCmsClassItems:function(){var e=this;this.getItems(d,{pageSize:1e4}).then((function(t){e.classIdOptions=e.setItems(t,"id","name")}))},getCmsAuthorItems:function(){var e=this;this.getItems(m,{pageSize:1e4}).then((function(t){e.authorIdOptions=e.setItems(t,"id","name")}))},getCmsLocalItems:function(){var e=this;this.getItems(p,{pageSize:1e4}).then((function(t){e.localIdOptions=e.setItems(t,"id","name")}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsNovelListList=t.data.list,e.total=t.data.total,e.loading=!1}))},classIdFormat:function(e,t){return this.selectItemsLabel(this.classIdOptions,e.classId)},authorIdFormat:function(e,t){return this.selectItemsLabel(this.authorIdOptions,e.authorId)},localIdFormat:function(e,t){return this.selectItemsLabel(this.localIdOptions,e.localId)},cancel:function(){this.addsopen=!1,this.open=!1,this.reset()},successCall:function(e,t,a,l){var n=this,i=e.name,o=i.split(".").pop();o&&i!=o&&(i=i.replace("."+o,""));var s=JSON.parse(a),c=i.split("@");this.form={path:s.filePath,title:c[0],className:c.length>=2?c[1]:"",tag:c.length>=3?c[2]:"",local:c.length>=4?c[3]:"",authorName:c.length>=5?c[4]:"",introduce:c.length>=6?c[5]:""},r(this.form).then((function(e){0===e.code?n.getList():console.log(e)}))},reset:function(){this.form={id:void 0,path:void 0,uuid:void 0,title:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0,introduce:void 0,other:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.addsopen=!0,this.title="添加小说列"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.classId=""+a.classId,a.authorId=""+a.authorId,a.localId=""+a.localId,t.form=a,t.open=!0,t.title="修改小说列"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除小说列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),v=h,b=a("2877"),g=Object(b["a"])(v,l,n,!1,null,null,null);t["default"]=g.exports},9352:function(e,t,a){},9488:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],i=a("313e"),o=a("feb2");a("817d");var s=6e3,r={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i["default"].init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},"958f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=this,a=t.$createElement,l=t._self._c||a;return l("div",{staticClass:"app-container"},[l("el-card",{staticClass:"box-card"},[l("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[l("el-tab-pane",{attrs:{label:"通用设置"}},[l("el-form",{attrs:{"label-width":"80px"}},[l("div",{staticClass:"test-form"},[l("el-form",{ref:"form",attrs:{model:t.form,size:"small","label-width":"150px"}},[l("el-form-item",{attrs:{label:t.form["cms.status.url"].configName}},[l("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:t.form["cms.status.url"].configValue,callback:function(e){t.$set(t.form["cms.status.url"],"configValue",e)},expression:"form['cms.status.url'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.status.url"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.static.path"].configName}},[l("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:"",type:"textarea",rows:2,clearable:""},model:{value:t.form["cms.static.path"].configValue,callback:function(e){t.$set(t.form["cms.static.path"],"configValue",e)},expression:"form['cms.static.path'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.static.path"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.api.key"].configName}},[l("el-input",{staticStyle:{width:"30%","margin-left":"20px"},attrs:{placeholder:"请输入API密钥",maxlength:"16","show-word-limit":""},model:{value:t.form["cms.api.key"].configValue,callback:function(e){t.$set(t.form["cms.api.key"],"configValue",e)},expression:"form['cms.api.key'].configValue"}},[l("el-button",{staticStyle:{"background-color":"#0d99a5","border-radius":"5px",color:"#e5e5e5",width:"60px",height:"100%"},attrs:{slot:"suffix",type:"text"},on:{click:t.randomString},slot:"suffix"},[t._v("随机\n                  ")])],1),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.api.key"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.img.encode"].configName}},[l("div",{staticStyle:{width:"40%","margin-left":"20px"}},[l("el-radio",{attrs:{label:"yes"},model:{value:t.form["cms.img.encode"].configValue,callback:function(e){t.$set(t.form["cms.img.encode"],"configValue",e)},expression:"form['cms.img.encode'].configValue"}},[t._v("开启")]),t._v(" "),l("el-radio",{attrs:{label:"no"},model:{value:t.form["cms.img.encode"].configValue,callback:function(e){t.$set(t.form["cms.img.encode"],"configValue",e)},expression:"form['cms.img.encode'].configValue"}},[t._v("关闭")]),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.img.encode"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.anti-theft"].configName}},[l("div",{staticStyle:{width:"40%","margin-left":"20px"}},[l("el-radio",{attrs:{label:"yes"},model:{value:t.form["cms.anti-theft"].configValue,callback:function(e){t.$set(t.form["cms.anti-theft"],"configValue",e)},expression:"form['cms.anti-theft'].configValue"}},[t._v("开启")]),t._v(" "),l("el-radio",{attrs:{label:"no"},model:{value:t.form["cms.anti-theft"].configValue,callback:function(e){t.$set(t.form["cms.anti-theft"],"configValue",e)},expression:"form['cms.anti-theft'].configValue"}},[t._v("关闭")]),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.anti-theft"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["sys.uploadFile.fileSize"].configName}},[l("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:"上传文件最大质量",clearable:""},model:{value:t.form["sys.uploadFile.fileSize"].configValue,callback:function(e){t.$set(t.form["sys.uploadFile.fileSize"],"configValue",e)},expression:"form['sys.uploadFile.fileSize'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["sys.uploadFile.fileSize"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-form-item",{attrs:{label:t.form["sys.uploadFile.fileType"].configName}},[l("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:"上传文件支持类型",clearable:""},model:{value:t.form["sys.uploadFile.fileType"].configValue,callback:function(e){t.$set(t.form["sys.uploadFile.fileType"],"configValue",e)},expression:"form['sys.uploadFile.fileType'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["sys.uploadFile.fileType"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-form-item",{staticStyle:{"margin-top":"100px"},attrs:{size:"large"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")]),t._v(" "),l("el-button",{on:{click:function(e){return t.getForm()}}},[t._v("重置")])],1)],1)],1)])],1),t._v(" "),l("el-tab-pane",{attrs:{label:"转码设置"}},[l("el-form",{attrs:{"label-width":"80px"}},[l("div",{staticClass:"test-form"},[l("el-form",{ref:"form",attrs:{model:t.form,size:"small","label-width":"150px"}},[l("el-form-item",{attrs:{label:t.form["cms.transcoding.task"].configName}},[l("div",{staticStyle:{width:"90%","margin-left":"20px",display:"flex","align-items":"center"}},[l("el-input-number",{attrs:{min:1,max:40},model:{value:t.form["cms.transcoding.task"].configValue,callback:function(e){t.$set(t.form["cms.transcoding.task"],"configValue",e)},expression:"form['cms.transcoding.task'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.transcoding.task"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.transcoding.tstime"].configName}},[l("div",{staticStyle:{width:"90%","margin-left":"20px",display:"flex","align-items":"center"}},[l("el-input-number",{attrs:{min:1,max:20},model:{value:t.form["cms.transcoding.tstime"].configValue,callback:function(e){t.$set(t.form["cms.transcoding.tstime"],"configValue",e)},expression:"form['cms.transcoding.tstime'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.transcoding.tstime"].remark)+"\n                    ")]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.del.source.video"].configName}},[l("div",{staticStyle:{width:"40%","margin-left":"20px"}},[l("el-radio",{attrs:{label:"yes"},model:{value:t.form["cms.del.source.video"].configValue,callback:function(e){t.$set(t.form["cms.del.source.video"],"configValue",e)},expression:"form['cms.del.source.video'].configValue"}},[t._v("删除")]),t._v(" "),l("el-radio",{attrs:{label:"no"},model:{value:t.form["cms.del.source.video"].configValue,callback:function(e){t.$set(t.form["cms.del.source.video"],"configValue",e)},expression:"form['cms.del.source.video'].configValue"}},[t._v("保留")]),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.del.source.video"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.ts.camouflage"].configName}},[l("div",{staticStyle:{width:"170px","margin-left":"20px",display:"flex","align-items":"center"}},[l("el-select",{model:{value:t.form["cms.ts.camouflage"].configValue,callback:function(e){t.$set(t.form["cms.ts.camouflage"],"configValue",e)},expression:"form['cms.ts.camouflage'].configValue"}},t._l(t.tsCamouflageOptions,(function(e){return l("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.ts.camouflage"].remark)+"\n                    ")]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.transcoding.type"].configName}},[l("div",{staticStyle:{display:"flex",width:"40%","margin-left":"20px","align-items":"center"}},[l("el-radio-group",{model:{value:t.form["cms.transcoding.type"].configValue,callback:function(e){t.$set(t.form["cms.transcoding.type"],"configValue",e)},expression:"form['cms.transcoding.type'].configValue"}},t._l(t.transcodingTypeOptions,(function(e){return l("el-radio-button",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.value)+"\n                    ")])})),1),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.transcoding.type"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),1==t.form["cms.transcoding.type"].configValue?[l("el-form-item",{attrs:{label:t.form["cms.transcoding.resolution"].configName}},[l("div",{staticStyle:{display:"flex",width:"40%","margin-left":"20px","align-items":"center"}},[l("el-checkbox-group",{model:{value:t.form["cms.transcoding.resolution"].configValue,callback:function(e){t.$set(t.form["cms.transcoding.resolution"],"configValue",e)},expression:"form['cms.transcoding.resolution'].configValue"}},t._l(t.cmsResolutionOptions,(function(e){return l("el-checkbox-button",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.value)+"\n                      ")])})),1),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.transcoding.resolution"].remark)+"\n                      ")]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.transcoding.fps"].configName}},[l("div",{staticStyle:{width:"90%","margin-left":"20px",display:"flex","align-items":"center"}},[l("el-input-number",{attrs:{min:10,max:60},model:{value:t.form["cms.transcoding.fps"].configValue,callback:function(e){t.$set(t.form["cms.transcoding.fps"],"configValue",e)},expression:"form['cms.transcoding.fps'].configValue"}}),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.transcoding.fps"].remark)+"\n                      ")]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.watermark.status"].configName}},[l("div",{staticStyle:{width:"40%","margin-left":"20px"}},[l("el-radio",{attrs:{label:"yes"},model:{value:t.form["cms.watermark.status"].configValue,callback:function(e){t.$set(t.form["cms.watermark.status"],"configValue",e)},expression:"form['cms.watermark.status'].configValue"}},[t._v("开启")]),t._v(" "),l("el-radio",{attrs:{label:"no"},model:{value:t.form["cms.watermark.status"].configValue,callback:function(e){t.$set(t.form["cms.watermark.status"],"configValue",e)},expression:"form['cms.watermark.status'].configValue"}},[t._v("关闭")]),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.watermark.status"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),"yes"==t.form["cms.watermark.status"].configValue?[l("el-form-item",{attrs:{label:t.form["cms.watermark.img"].configName}},[l("div",{staticStyle:{width:"20%","margin-left":"20px"}},[l("up-file",{attrs:{successCall:function(t){e.form["cms.watermark.img"].configValue=t[0].url},action:t.apiUrl+"/system/upload/upImg",limit:1,multiple:!1,accept:"image/png"}})],1)]),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.watermark.aphan"].configName}},[l("div",{staticStyle:{width:"90%","margin-left":"20px",display:"flex","align-items":"center"}},[l("el-input-number",{attrs:{min:1,max:100},model:{value:t.form["cms.watermark.aphan"].configValue,callback:function(e){t.$set(t.form["cms.watermark.aphan"],"configValue",e)},expression:"form['cms.watermark.aphan'].configValue"}}),t._v(" %\n\n                      "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.watermark.aphan"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),t.form["cms.watermark.img"].configValue?l("el-form-item",{attrs:{label:t.form["cms.watermark.position"].configName}},[l("div",{staticStyle:{width:"90%","margin-left":"20px",display:"flex","align-items":"center"}},[l("resizable",{attrs:{content:t.apiUrl+"/"+t.form["cms.watermark.img"].configValue,aphan:t.form["cms.watermark.aphan"].configValue},model:{value:t.form["cms.watermark.position"].configValue,callback:function(e){t.$set(t.form["cms.watermark.position"],"configValue",e)},expression:"form['cms.watermark.position'].configValue"}})],1)]):t._e()]:t._e(),t._v(" "),l("el-form-item",{attrs:{label:t.form["cms.subtitle.status"].configName}},[l("div",{staticStyle:{width:"40%","margin-left":"20px"}},[l("el-radio",{attrs:{label:"yes"},model:{value:t.form["cms.subtitle.status"].configValue,callback:function(e){t.$set(t.form["cms.subtitle.status"],"configValue",e)},expression:"form['cms.subtitle.status'].configValue"}},[t._v("开启")]),t._v(" "),l("el-radio",{attrs:{label:"no"},model:{value:t.form["cms.subtitle.status"].configValue,callback:function(e){t.$set(t.form["cms.subtitle.status"],"configValue",e)},expression:"form['cms.subtitle.status'].configValue"}},[t._v("关闭")]),t._v(" "),l("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[l("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.form["cms.subtitle.status"].remark))]),t._v(" "),l("div",{staticClass:"el-icon-question"})])],1)]),t._v(" "),"yes"==t.form["cms.subtitle.status"].configValue?[l("el-form-item",{attrs:{label:t.form["cms.subtitle.file"].configName}},[l("div",{staticStyle:{width:"20%","margin-left":"20px"}},[l("up-file",{attrs:{action:t.apiUrl+"/system/upload/upFile",limit:1,multiple:!1,suffix:["ass"]},model:{value:t.form["cms.subtitle.file"].configValue,callback:function(e){t.$set(t.form["cms.subtitle.file"],"configValue",e)},expression:"form['cms.subtitle.file'].configValue"}})],1)])]:t._e()]:t._e(),t._v(" "),l("el-form-item",{staticStyle:{"margin-top":"100px"},attrs:{size:"large"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")]),t._v(" "),l("el-button",{on:{click:function(e){return t.getForm()}}},[t._v("重置")])],1)],2)],1)])],1)],1)],1)],1)},n=[],i=(a("c5f6"),a("ac6a"),a("c0c3")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{staticClass:"upload-file",attrs:{action:e.action,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:e.multiple,limit:e.limit,data:e.dataParam,fileList:e.dataFileList,"on-exceed":e.handleExceed,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"before-upload":e.beforeUpload,accept:e.accept}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)},s=[],r=(a("20d6"),a("7f7f"),a("5f87")),c=a("2ef0"),u=a.n(c),d={name:"upFile",props:{action:{type:String,default:function(){return""}},accept:{type:String,default:function(){return""}},suffix:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:function(){return!1}},limit:{type:Number,default:function(){return 1}},value:{type:Array,default:function(){return[]}},successCall:{type:Function,default:function(){return function(e){}}},dataParam:{type:Object,default:function(){return{token:Object(r["a"])()}}}},data:function(){return{uploadedFile:[],removemsg:!0}},computed:{dataFileList:{get:function(){var e=this,t=this.value||[];return t.map((function(t){t.url&&(t.url=e.getUpFileUrl(e.apiUrl,t.url))})),this.uploadedFile=u.a.cloneDeep(t),t},set:function(e){this.$emit("set-up-file-list",e)}}},methods:{beforeUpload:function(e,t){var a=e.name,l=a.substr(a.lastIndexOf(".")),n=a.substr(a.lastIndexOf(".")+1);if(0==this.suffix.length)return!0;for(var i in this.suffix)if(this.suffix[i]==l||this.suffix[i]==n)return!0;return this.removemsg=!1,this.$message.error("当前文件拓展名:"+n+" 仅支持以下拓展名文件 "+JSON.stringify(this.suffix)),!1},handleRemove:function(e,t){this.uploadedFile.splice(this.uploadedFile.findIndex((function(t){return t.name===e.name})),1),this.setDataFileList(t.length)},handleExceed:function(e,t){this.$message.warning("最多可上传 ".concat(this.limit," 个文件，已超出最大限制数。"))},beforeRemove:function(e,t){return this.removemsg?this.$confirm("确定移除 ".concat(e.name,"？")):(this.removemsg=!0,!0)},handleSuccess:function(e,t,a){0===t.response.code?this.uploadedFile.push({name:t.name,url:t.response.data.fileInfo.fileUrl}):this.msgError(e.msg),this.setDataFileList(a.length),this.successCall(this.uploadedFile)},handlePreview:function(e){window.open(e.url)},setDataFileList:function(e){var t=[];this.uploadedFile.forEach((function(e){t.push({name:e.name,url:e.url})})),t.length==e&&(this.dataFileList=t)}}},m=d,p=(a("fdda"),a("2877")),f=Object(p["a"])(m,o,s,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"640px",height:"360px","background-color":"#aa5500"}},[e.imgUrl?a("vdr",{attrs:{w:e.width,h:e.height,x:e.x,y:e.y,parent:!0,"lock-aspect-ratio":!0},on:{dragging:e.onDrag,resizing:e.onResize}},[a("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[a("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[e._v(e._s("X:"+e.x+"/Y:"+e.y+"\nxr:"+e.x_ratio.toFixed(2)+"/yr:"+e.y_ratio.toFixed(2)+"\nWidth:"+e.width+"/Height:"+e.height)+"\n      ")]),e._v(" "),a("img",{style:{filter:"opacity("+e.opacity+")"},attrs:{src:e.imgUrl,width:e.width,height:e.height}})])],1):e._e()],1)},b=[],g=a("611b"),y=a.n(g),_=(a("c78c"),a("81a5")),k=a.n(_),x={components:{vdr:y.a},props:{content:{type:String,default:k.a},aphan:{type:Number,default:0},value:{type:Object,default:function(){return{ratioX:0,ratioY:0,width:0,height:0}}}},watch:{content:function(e,t){this.imgUrl="",this.width=0,this.height=0,this.setImgInfo(e)},aphan:function(e,t){this.opacity=(100-e)/100,this.$forceUpdate()},value:function(e,t){console.log(e),this.x_ratio=e.ratioX,this.y_ratio=e.ratioY,this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y,this.$forceUpdate()}},data:function(){return{width:0,height:0,x:0,y:0,x_ratio:0,y_ratio:0,imgUrl:""}},mounted:function(){this.x_ratio=this.value.ratioX,this.y_ratio=this.value.ratioY,this.width=this.value.width,this.height=this.value.height,this.x=this.value.x,this.y=this.value.y,this.opacity=(100-this.aphan)/100,this.setImgInfo(this.content)},methods:{setValue:function(){this.$emit("input",{x:this.x,y:this.y,ratioX:this.x_ratio,ratioY:this.y_ratio,width:this.width,height:this.height})},onResize:function(e,t,a,l){this.x=e,this.y=t,this.width=a,this.height=l,this.x_ratio=this.x/640,this.y_ratio=this.y/360,console.log(this.width),this.setValue()},onDrag:function(e,t){this.x=e,this.y=t,this.x_ratio=this.x/640,this.y_ratio=this.y/360,console.log(this.width),this.setValue()},setImgInfo:function(e){var t=this,a=e+"?"+Date.parse(new Date),l=new Image;l.src=a,l.onload=function(){var a=l.width/l.height,n=l.width,i=l.height;n>640&&(n=640,i=n/a),i>360&&(i=360,n=i*a),0==t.width&&(t.width=n),0==t.height&&(t.height=i),t.imgUrl=e,t.setValue()}}}},w=x,C=Object(p["a"])(w,v,b,!1,null,null,null),S=C.exports,O=a("c006"),I={components:{upFile:h,resizable:S,uploadFiles:O["a"]},data:function(){return{components:{},name:"CmsSystem",form:{"sys.uploadFile.fileSize":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"sys.uploadFile.fileType":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.status.url":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.static.path":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.api.key":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.img.encode":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.anti-theft":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.dow.task":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.dow.retry":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.transcoding.task":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.transcoding.resolution":{configId:null,configName:null,configValue:null,remark:null,showType:"array"},"cms.del.source.video":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.transcoding.fps":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.transcoding.tstime":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.watermark.status":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.watermark.img":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.watermark.aphan":{configId:null,configName:null,configValue:null,remark:null,showType:"number"},"cms.watermark.position":{configId:null,configName:null,configValue:{ratioX:0,ratioY:0,width:0,height:0},remark:null,showType:"object"},"cms.subtitle.status":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.subtitle.file":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.transcoding.type":{configId:null,configName:null,configValue:null,remark:null,showType:"string"},"cms.ts.camouflage":{configId:null,configName:null,configValue:null,remark:null,showType:"string"}},cmsResolutionOptions:[],transcodingTypeOptions:[],tsCamouflageOptions:[]}},created:function(){var e=this;this.getDicts("cms_resolution").then((function(t){e.cmsResolutionOptions=t.data.values||[]})),this.getDicts("transcoding_type").then((function(t){e.transcodingTypeOptions=t.data.values||[]})),this.getDicts("ts_camouflage").then((function(t){e.tsCamouflageOptions=t.data.values||[]})),this.getForm()},methods:{randomString:function(){for(var e=8,t="abcdefhijkmnprstwxyz2345678",a=t.length,l="",n=0;n<e;n++)l+=t.charAt(Math.floor(Math.random()*a));this.form["cms.api.key"].configValue=l},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=[];for(var l in t.form){var n=t.form[l];if("array"==n.showType)try{JSON.stringify(n.configValue||[])}catch(o){}else if("object"==n.showType)try{JSON.stringify(n.configValue||{})}catch(o){}else n.configValue+"";a.push({configKey:l,configId:n.configId,configName:n.configName,configValue:n.configValue,remark:n.remark,showType:n.showType})}Object(i["h"])({value:a}).then((function(e){0===e.code?(t.getForm(),t.msgSuccess("修改成功")):t.msgError(e.msg)}))}}))},getForm:function(){var e=this;Object(i["f"])(this.addDateRange({pageNum:1,pageSize:100},[])).then((function(t){var a=t.data.list;for(var l in a){var n=a[l],i=n.configKey,o=n.configValue,s=n.configName,r=n.remark,c=n.configId;if(e.form[i]){var u=e.form[i].showType;if("number"==u)o=Number(o||"0");else if("array"==u)try{o=JSON.parse(o||"{}")}catch(d){}else if("object"==u)try{o=JSON.parse(o||"{}")}catch(d){}e.form[i].configValue=o,e.form[i].configName=s,e.form[i].remark=r,e.form[i].configId=c}}}))}}},P=I,N=Object(p["a"])(P,l,n,!1,null,null,null);t["default"]=N.exports},"97a7":function(e,t,a){"use strict";a("aa29")},"9ab6":function(e,t,a){},"9b8f":function(e,t,a){"use strict";a.r(t);a("a481");var l,n,i={created:function(){var e=this.$route,t=e.params,a=e.query,l=t.path;this.$router.replace({path:"/"+l,query:a})},render:function(e){return e()}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,null,null);t["default"]=r.exports},a31e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"uuid",prop:"uuid"}},[a("el-input",{attrs:{placeholder:"请输入uuid",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.uuid,callback:function(t){e.$set(e.queryParams,"uuid",t)},expression:"queryParams.uuid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsFileList/add"],expression:"['cms/cmsFileList/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsFileList/add"],expression:"['cms/cmsFileList/add']"}],attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleQuery}},[e._v("刷新\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsFileList/delete"],expression:"['cms/cmsFileList/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsFileListList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"UUID",align:"center",prop:"uuid","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"文件名",align:"center",prop:"name","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsFileList/delete"],expression:"['cms/cmsFileList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.copy(t.row)}}},[e._v("复制地址\n        ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsFileList/delete"],expression:"['cms/cmsFileList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("upload-files",{attrs:{successCall:e.successCall}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("a481"),a("28a5"),a("7f7f"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsFileList/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsFileList/add",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/cms/cmsFileList/delete",method:"delete",data:{ids:e}})}a("e077");var c=a("c006"),u=a("e8ec"),d={components:{UploadFiles:c["a"]},name:"CmsFileList",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsFileListList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,uuid:void 0,path:void 0,name:void 0,createdAt:void 0},form:{},rules:{path:[{required:!0,message:"存储目录路径不能为空",trigger:"blur"}],name:[{required:!0,message:"文件名不能为空",trigger:"blur"}]},statusUrl:Object(u["a"])()}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsFileListList=t.data.list,e.total=t.data.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,uuid:void 0,path:void 0,name:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加视频"},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除文件列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},copy:function(e){var t=document.createElement("input");t.value=this.statusUrl+"/other/"+e.uuid+"/"+e.name,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message.success("复制成功"),t.remove()},getList2:function(){var e=this;o(this.queryParams).then((function(t){e.cmsFileListList=t.data.list,e.total=t.data.total}))},successCall:function(e,t,a,l){var n=this,i=e.name,o=i.split(".").pop();o&&i!=o&&(i=i.replace("."+o,""));var r=JSON.parse(a),c=i.split("@");this.form={path:r.filePath,name:c[0]},s(this.form).then((function(e){0===e.code?n.getList2():console.log(e)}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a49e:function(e,t,a){},a50e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"uuid",prop:"uuid"}},[a("el-input",{attrs:{placeholder:"请输入uuid",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.uuid,callback:function(t){e.$set(e.queryParams,"uuid",t)},expression:"queryParams.uuid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.queryParams.classId,callback:function(t){e.$set(e.queryParams,"classId",t)},expression:"queryParams.classId"}},e._l(e.classIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"authorId"}},[a("el-select",{attrs:{placeholder:"请选择作者",clearable:"",size:"small"},model:{value:e.queryParams.authorId,callback:function(t){e.$set(e.queryParams,"authorId",t)},expression:"queryParams.authorId"}},e._l(e.authorIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"区域",prop:"localId"}},[a("el-select",{attrs:{placeholder:"请选择区域",clearable:"",size:"small"},model:{value:e.queryParams.localId,callback:function(t){e.$set(e.queryParams,"localId",t)},expression:"queryParams.localId"}},e._l(e.localIdOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/add"],expression:"['cms/cmsVideoList/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{"row-key":e.getrowkey,border:"",data:e.cmsVideoListList},on:{"selection-change":e.handleSelectionChange,"cell-mouse-enter":e.cellMouseEnter}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center","reserve-selection":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"uuid",align:"center",prop:"uuid","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"分类",align:"center",prop:"classId",formatter:e.classIdFormat,width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.classIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"作者",align:"center",prop:"authorId",formatter:e.authorIdFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.authorIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"区域",align:"center",prop:"localId",formatter:e.localIdFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.localIdFormat(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"大小",align:"center",prop:"size",formatter:e.getSize,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"时长",align:"center",prop:"duration",formatter:e.totime,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"150",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n          ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDetails(t.row)}}},[e._v("详情\n          ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsVideoList/delete"],expression:"['cms/cmsVideoList/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleReTransco(t.row)}}},[e._v("重转\n          ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("upload-files",{attrs:{successCall:e.successCall,accept:"video/*",explain:"文件标题内容规则：\n\n1、录入内容的顺序为：标题@分类@标签@地区@作者@简介\n\n2、缺省项可不填，用@代替，但录入的先后顺序不能改变，比如：标题@@@@@简介\n\n3、中间的缺省内容用@分隔，如果末尾的内容为缺省项，可直接省略，比如：标题\n\n如:\n唐伯虎点秋香|喜剧|搞笑,爱情|中国|周星驰|周星驰经典系列电影.mp4\n"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openXq,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openXq=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px",close:e.cancel}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{disabled:"",placeholder:"标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分享地址",prop:"classId"}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{value:e.statusUrl+"/video/"+e.form.uuid+"/index.m3u8",disabled:"",placeholder:"标题"}}),e._v(" "),a("div",{staticClass:"copy-btn2",on:{click:function(t){return e.copy(e.statusUrl+"/video/"+e.form.uuid+"/index.m3u8")}}},[a("i",{staticClass:"el-icon-document-copy",staticStyle:{"margin-left":"10px"}}),e._v("复制链接\n            ")])],1),e._v("\n          注意:如果设置中 设置了防盗链 该分享链接1-2小时后会失效\n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"封面图片",prop:"video"}},[a("img",{staticStyle:{width:"50%","border-radius":"10px"},attrs:{src:e.statusUrl+"/video/"+e.form.uuid+"/index.jpg"}})]),e._v(" "),a("el-form-item",{attrs:{label:"预览动图",prop:"video"}},[a("img",{staticStyle:{width:"50%","border-radius":"10px"},attrs:{src:e.statusUrl+"/video/"+e.form.uuid+"/index.webp"}})]),e._v(" "),a("el-form-item",{attrs:{label:"视频",prop:"video"}},[a("div",{staticStyle:{width:"50%",position:"relative","border-radius":"10px"}},[a("div",{attrs:{id:"xg"}})])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关闭")])],1)],1)],1)},n=[],i=(a("a481"),a("28a5"),a("7f7f"),a("ac6a"),a("e077")),o=a("9000"),s=a.n(o),r=a("c006"),c=a("e8ec"),u=a("ed08"),d={components:{UploadFiles:r["a"]},name:"CmsVideoList",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsVideoListList:[],title:"",open:!1,openXq:!1,classIdOptions:[],authorIdOptions:[],localIdOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,path:void 0,uuid:void 0,title:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0,size:void 0,duration:void 0,status:void 0,introduce:void 0,other:void 0},form:{},rules:{},timer:null,player:null,statusUrl:Object(c["a"])()}},created:function(){var e=this;this.getCmsClassItems(),this.getCmsAuthorItems(),this.getCmsLocalItems(),this.getDicts("transcoding_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getList(),this.timer=1,this.timerIng()},beforeDestroy:function(){this.timer=0},methods:{timerIng:function(){var e=this;this.getList2((function(){1==e.timer&&setTimeout(e.timerIng,2e3)}))},copy:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message.success("复制成功"),t.remove()},successCall:function(e,t,a,l){var n=this,o=e.name,s=o.split(".").pop();s&&o!=s&&(o=o.replace("."+s,""));var r=JSON.parse(a),c=o.split("@");this.form={path:r.filePath,title:c[0],className:c.length>=2?c[1]:"",tag:c.length>=3?c[2]:"",local:c.length>=4?c[3]:"",authorName:c.length>=5?c[4]:"",introduce:c.length>=6?c[5]:""},Object(i["a"])(this.form).then((function(e){0===e.code?n.getList():console.log(e)}))},getCmsClassItems:function(){var e=this;this.getItems(i["f"],{pageSize:1e4}).then((function(t){e.classIdOptions=e.setItems(t,"id","name")}))},getCmsAuthorItems:function(){var e=this;this.getItems(i["e"],{pageSize:1e4}).then((function(t){e.authorIdOptions=e.setItems(t,"id","name")}))},getCmsLocalItems:function(){var e=this;this.getItems(i["g"],{pageSize:1e4}).then((function(t){e.localIdOptions=e.setItems(t,"id","name")}))},getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.queryParams).then((function(t){e.cmsVideoListList=t.data.list,e.total=t.data.total,e.loading=!1}))},getList2:function(e){var t=this;Object(i["h"])(this.queryParams).then((function(a){t.cmsVideoListList=a.data.list,t.total=a.data.total,e()}))},getrowkey:function(e){return e.id},cellMouseEnter:function(e,t,a,l){console.log("cellMouseEnter")},classIdFormat:function(e,t){return this.selectItemsLabel(this.classIdOptions,e.classId)},authorIdFormat:function(e,t){return this.selectItemsLabel(this.authorIdOptions,e.authorId)},localIdFormat:function(e,t){return this.selectItemsLabel(this.localIdOptions,e.localId)},totime:function(e,t){return Object(u["e"])(e.duration,"H:i:s")},getSize:function(e,t){return Object(u["f"])(e.size)},statusFormat:function(e,t){return 2==e.status?2==e.status?e.progress+"%":"":this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){console.log("cancel"),this.open=!1,this.openXq=!1,this.player&&(this.player.destroy(!0),this.player=null),this.reset()},reset:function(){this.form={id:void 0,path:void 0,uuid:void 0,title:void 0,classId:void 0,authorId:void 0,localId:void 0,tag:void 0,size:void 0,duration:void 0,status:void 0,introduce:void 0,other:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加视频"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["c"])(a).then((function(e){var a=e.data;a.classId=""+a.classId,a.authorId=""+a.authorId,a.localId=""+a.localId,a.status=""+a.status,t.form=a,t.open=!0,t.title="修改视频列"}))},handleReTransco:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["d"])(a).then((function(e){var a=e.data;if(0==a.length)t.msgSuccess("提交成功");else for(var l in a)t.msgInfo(a[l])}))},handleDetails:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["c"])(a).then((function(e){var a=e.data;1==a.status?(a.classId=""+a.classId,a.authorId=""+a.authorId,a.localId=""+a.localId,a.status=""+a.status,t.form=a,t.openXq=!0,t.title="视频详情",t.$nextTick((function(){t.player=new s.a({id:"xg",url:t.statusUrl+"/video/"+t.form.uuid+"/index.m3u8",poster:t.statusUrl+"/video/"+t.form.uuid+"/index.jpg",fluid:!0})}))):t.msgInfo("尚未转码完毕")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&void 0!=e.form.id&&Object(i["i"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除视频列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},a6dc:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return d}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/auth/menuList",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/system/auth/menu/?menuId="+e,method:"get"})}function o(){return Object(l["a"])({url:"/system/auth/getMenus",method:"get"})}function s(e){return Object(l["a"])({url:"/system/menu/roleMenuTreeselect/"+e,method:"get"})}function r(e){return Object(l["a"])({url:"/system/auth/addMenu",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/system/auth/editMenu",method:"put",data:e})}function u(e){return Object(l["a"])({url:"/system/auth/deleteMenu",method:"delete",data:{ids:[e]}})}function d(e){return Object(l["a"])({url:"/system/auth/modelOptions",method:"get",params:{module:e}})}},a85b:function(e,t,a){"use strict";a("456d"),a("ac6a");var l=a("ed08"),n=Object(l["h"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function i(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var o={"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var l=[];return t.options.forEach((function(t){l.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),l}},"el-radio-group":{options:function(e,t,a){var l=[];return t.options.forEach((function(a){"button"===t.optionType?l.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):l.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),l}},"el-checkbox-group":{options:function(e,t,a){var l=[];return t.options.forEach((function(a){"button"===t.optionType?l.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):l.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),l}},"el-upload":{"list-type":function(e,t,a){var l=[];return"picture-card"===t["list-type"]?l.push(e("i",{class:"el-icon-plus"})):l.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&l.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),l}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},l=JSON.parse(JSON.stringify(this.conf)),s=[],r=o[l.tag];return r&&Object.keys(r).forEach((function(t){var a=r[t];l[t]&&s.push(a(e,l,t))})),Object.keys(l).forEach((function(e){var o=l[e];"vModel"===e?i(t,a,l.defaultValue):a[e]?a[e]=o:n(e)?a.attrs[e]=o:a.props[e]=o})),e(this.conf.tag,a,s)},props:["conf"]}},aa29:function(e,t,a){},aceb:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.menuName,callback:function(t){e.$set(e.queryParams,"menuName",t)},expression:"queryParams.menuName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions.values,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/addMenu"],expression:"['system/auth/addMenu']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"title",label:"菜单名称","show-overflow-tooltip":!0,width:"360"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"weigh",label:"排序",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"component",label:"组件路径","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/editMenu"],expression:"['system/auth/editMenu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),2!=t.row.menu_type?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/addMenu"],expression:"['system/auth/addMenu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/deleteMenu"],expression:"['system/auth/deleteMenu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"900px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"0"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("按钮")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["2"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标"},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["2"!=e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["2"!=e.form.menuType?a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"权限规则",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入权限规则"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["2"!=e.form.menuType?a("el-form-item",{attrs:{label:"显示状态"}},[a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["2"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属模块",prop:"moduleType"}},[a("el-select",{on:{change:e.changeModule},model:{value:e.form.moduleType,callback:function(t){e.$set(e.form,"moduleType",t)},expression:"form.moduleType"}},e._l(e.moduleTypeOptions.values,(function(t){return a("el-option",{key:t.key,attrs:{label:t.value,value:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"关联模型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.modelId,callback:function(t){e.$set(e.form,"modelId",t)},expression:"form.modelId"}},e._l(e.modelOptions,(function(t){return a("el-option",{key:t.modelId,attrs:{label:t.modelTitle,value:t.modelId}},[e._v(e._s(t.modelTitle))])})),1)],1)],1),e._v(" "),"1"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),"0"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跳转路由",prop:"jumpPath"}},[a("el-input",{attrs:{placeholder:"请输入跳转路由地址"},model:{value:e.form.jumpPath,callback:function(t){e.$set(e.form,"jumpPath",t)},expression:"form.jumpPath"}})],1)],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("7f7f"),a("ac6a"),a("a6dc")),o=a("ca17"),s=a.n(o),r=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,l){return a("div",{key:l,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("6762"),a("2fdb"),a("4917"),a("23f1")),d=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=d(u).map((function(e){return e.match(m)[1]})),f=p,h={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=f},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},v=h,b=(a("97a7"),a("2877")),g=Object(b["a"])(v,r,c,!1,null,"4f94f88f",null),y=g.exports,_={name:"Menu",components:{Treeselect:s.a,IconSelect:y},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],statusOptions:[],modelOptions:[],moduleTypeOptions:[],queryParams:{menuName:void 0,visible:void 0},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}],moduleType:[{required:!0,message:"所属模块不能为空",trigger:"change"}]}}},created:function(){var e=this;this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data})),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("menu_module_type").then((function(t){e.moduleTypeOptions=t.data})),this.getList()},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data.list,"id","pid"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.title,children:e.children}},getTreeselect:function(){var e=this;Object(i["g"])().then((function(t){e.menuOptions=[];var a={id:0,title:"主类目",children:[]};a.children=e.handleTree(t.data.parentList,"id","pid"),e.menuOptions.push(a)}))},visibleFormat:function(e,t){return"2"==e.menuType?"":this.selectDictLabel(this.visibleOptions.values,e.alwaysShow)},statusFormat:function(e,t){return"2"==e.menuType?"":this.selectDictLabel(this.statusOptions.values,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,name:"",menuName:void 0,icon:void 0,menuType:"0",orderNum:"0",isFrame:"0",visible:"1",status:"1",path:"",jumpPath:"",component:"",moduleType:"",modelId:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.id),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),Object(i["c"])(e.id).then((function(e){t.menuOptions=[];var a={id:0,title:"主类目",children:[]};a.children=t.handleTree(e.data.parentList,"id","pid"),t.menuOptions.push(a),t.modelOptions=e.data.modelOptions;var l=e.data.menu;t.form={menuId:l.id,parentId:l.pid,name:l.name,menuName:l.title,icon:l.icon,menuType:""+l.menuType,orderNum:l.weigh,isFrame:""+l.isFrame,visible:""+l.alwaysShow,status:""+l.status,path:l.path,jumpPath:l.jumpPath,component:l.component,moduleType:l.moduleType,modelId:0===l.modelId?void 0:l.modelId},t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.menuId?Object(i["h"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.title+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},changeModule:function(e){var t=this;this.form.modelId=void 0,Object(i["d"])(e).then((function(e){e.data?t.modelOptions=e.data:t.modelOptions=[]}))}}},k=_,x=Object(b["a"])(k,l,n,!1,null,null,null);t["default"]=x.exports},b380:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},n=[],i=a("2877"),o={},s=Object(i["a"])(o,l,n,!1,null,null,null);t["default"]=s.exports},b422:function(e,t,a){},b5d0:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.parentId?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("7514"),a("ac6a"),a("fcb7")),o=a("ca17"),s=a.n(o),r=(a("542c"),{name:"Dept",components:{Treeselect:s.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"deptId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},statusFormat:function(e,t){var a=this.statusOptions.find((function(t){return""+t.key==""+e.status}));return a?a.value:""},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,orderNum:0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){var t=this;this.reset(),void 0!=e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",Object(i["d"])().then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},handleUpdate:function(e){var t=this;this.reset(),Object(i["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"})),Object(i["e"])(e.deptId).then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.deptId?Object(i["h"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},b781:function(e,t,a){},b79f:function(e,t,a){"use strict";a("9ab6")},b7a7:function(e,t,a){},b912:function(e,t,a){"use strict";a("a49e")},bae0:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.importLoading,expression:"importLoading"}],staticClass:"app-container",attrs:{"element-loading-text":"请稍等，正在上传中......","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"插件名称",prop:"pTitle"}},[a("el-input",{attrs:{placeholder:"请输入插件名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pTitle,callback:function(t){e.$set(e.queryParams,"pTitle",t)},expression:"queryParams.pTitle"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!1,action:e.apiUrl+"/system/pluginsManage/installOffLine",data:e.setUpData(),"before-upload":e.handleBeforeUpLoad,"on-progress":e.handleOnProgress,"on-success":e.handleUpSuccess,"on-change":e.handleUpChange}},[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-upload2"}},[e._v("离线安装"+e._s(e.upProcess))])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading||e.installing,expression:"loading||installing"}],attrs:{data:e.pluginsManageList}},[a("el-table-column",{attrs:{label:"插件ID",align:"center",prop:"pluginId"}}),e._v(" "),a("el-table-column",{attrs:{label:"插件名称",align:"center",prop:"pluginName"}}),e._v(" "),a("el-table-column",{attrs:{label:"插件介绍",align:"center",prop:"description",width:"500"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者",align:"center",prop:"memName"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return 1===t.row.isInstall?[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.statusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]:void 0}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"安装情况",align:"center",prop:"isInstall"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.status?"success":"danger"}},[e._v(e._s(1==t.row.status?"已安装":"未安装"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前版本",align:"center",prop:"version"}}),e._v(" "),a("el-table-column",{attrs:{label:"售价（元）",align:"center",prop:"pluginPriceStr"}}),e._v(" "),a("el-table-column",{attrs:{label:"下载次数",align:"center",prop:"downloadTimes"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-download"},on:{click:function(a){return e.handleInstall(t.row)}}},[e._v("安装")]),e._v(" "),a("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[a("ul",{staticClass:"dropdown-menu"},e._l(t.row.pluginInfo,(function(l,n){return a("li",{key:"version_"+n},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleInstall(t.row,l.infoVersion)}}},[e._v("版本: "+e._s(l.infoVersion))])],1)})),0),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-arrow-down"},slot:"reference"})],1)]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openLogin,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openLogin=t}}},[a("el-alert",{staticClass:"install-alert",attrs:{title:"⚠️温馨提示：此处登录账号为GFast官网账号",type:"error",effect:"dark",closable:!1}}),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名、手机号、邮箱"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.form.verifyCode,callback:function(t){e.$set(e.form,"verifyCode",t)},expression:"form.verifyCode"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),e._v(" "),a("div",{staticClass:"login-code"},[a("img",{attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登  录")]),e._v(" "),a("el-button",{on:{click:e.handleRegister}},[e._v("注册账号")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/system/pluginsManage/list",method:"get",params:e})}function s(){}function r(e,t,a){return Object(i["a"])({url:"/system/pluginsManage/install",method:"post",data:{pluginId:e,version:t,rToken:a}})}function c(e,t){var a={pluginId:e,status:t};return Object(i["a"])({url:"/system/pluginsManage/changeStatus",method:"put",data:a})}function u(){return Object(i["a"])({url:"/system/pluginsManage/captcha",method:"get"})}function d(e){return Object(i["a"])({url:"/system/pluginsManage/loginR",method:"POST",data:e})}var m=a("5f87"),p=a("a78e"),f=a.n(p),h={components:{},name:"PluginsManage",data:function(){return{loading:!0,importLoading:!1,upProcess:"",ids:[],single:!0,multiple:!0,total:0,pluginsManageList:[],title:"",openLogin:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,pName:void 0,pTitle:void 0,pAuth:void 0,status:void 0},form:{},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],verifyCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]},rToken:f.a.get("rToken"),codeUrl:"",installing:!1}},created:function(){var e=this;this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]})),this.getList()},methods:{statusChange:function(e){var t=this,a=1===e.status?"启用":"停用";this.$confirm('确认要"'+a+'"：吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(e.pluginId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.userStatus=0===e.userStatus?1:0}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){var a=t.data.list||[];e.pluginsManageList=a,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={username:void 0,password:void 0,verifyCode:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加插件管理"},handleInstall:function(e,t){var a=this;this.installing=!0,1===e.isInstall?this.$confirm("您已安装了该插件，版本号为："+e.version+",确认要覆盖安装？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return a.install(e,t)})).catch((function(e){a.installing=!1})):this.install(e,t)},install:function(e,t){var a=this;return r(e.pluginId,t,this.rToken).then((function(e){0!==e.code?a.msgError(e.msg):-401===e.data.code?(f.a.remove("rToken"),a.getCode(),a.openLogin=!0):(a.$confirm("插件安装成功，请按照插件内说明文件进行配置。","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"success"}),a.getList())})).catch((function(e){"请求错误或登录超时"==e.msg&&(f.a.remove("rToken"),a.getCode(),a.openLogin=!0)})).finally((function(){a.installing=!1}))},handleUnInstall:function(e){var t=this;this.$confirm("是否确认卸载?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(e.pluginId)})).then((function(){t.getList(),t.msgSuccess("卸载成功")})).catch((function(){}))},handleLogin:function(){var e=this;this.$refs["form"].validate((function(t){t&&d(e.form).then((function(t){f.a.set("rToken",t.data.token),e.rToken=t.data.token,e.msgSuccess("登录成功"),e.openLogin=!1})).catch((function(t){e.getCode()}))}))},handleRegister:function(){window.open("https://plugins.g-fast.cn/store#/login")},getCode:function(){var e=this;u().then((function(t){e.codeUrl=t.data.base64stringC,e.form.verifyKey=t.data.idKeyC}))},handleBeforeUpLoad:function(e){var t=e.type;return"application/zip"!=t&&"application/x-zip-compressed"!=t?(this.$alert("只能上传zip压缩文件"),!1):(this.importLoading=!0,!0)},handleOnProgress:function(e,t,a){var l=this,n=Math.ceil(e.percent);this.upProcess=n+"%",100==n&&setTimeout((function(){l.upProcess=""}),800)},handleUpSuccess:function(e,t){0===e.code?(this.$confirm("插件安装成功，请按照插件内说明文件进行配置。","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"success"}),this.getList()):this.msgError(e.msg),this.upProcess=""},handleUpChange:function(){this.importLoading=!1},setUpData:function(){var e={token:Object(m["a"])()};return e}}},v=h,b=(a("555d"),a("2877")),g=Object(b["a"])(v,l,n,!1,null,"3be7ef57",null);t["default"]=g.exports},bb49:function(e,t,a){"use strict";a.r(t);var l=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=l},bddb:function(e,t,a){"use strict";a("f634")},be87:function(e,t,a){},bee2:function(e,t,a){"use strict";a("35f0")},c006:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.options?a("uploader",{ref:"upload",staticClass:"uploader-example",staticStyle:{"border-radius":"5px"},attrs:{options:e.options,"auto-start":!0,"file-status-text":e.fileStatusText},on:{"file-success":e.fileSuccess,"file-error":e.fileError}},[a("div",{staticClass:"uploader-drop"},[e.explain?a("p",[e._v("\n      规则说明:\n    "),a("el-tooltip",{staticStyle:{"margin-left":"20px"},attrs:{effect:"dark",placement:"right"}},[a("div",{staticStyle:{"white-space":"pre-line"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.explain))]),e._v(" "),a("div",{staticClass:"el-icon-question"})])],1):e._e(),e._v(" "),e.explain?a("p"):e._e(),e._v(" "),a("uploader-btn",{attrs:{attrs:e.attrs}},[e._v("添加文件")]),e._v(" "),a("div",{staticClass:"uploader-btn",on:{click:function(t){return e.cancel()}}},[e._v("清空列表")]),e._v(" "),a("div",{staticClass:"uploader-btn",on:{click:function(t){return e.fileSuccessCancel()}}},[e._v("清空成功")]),e._v(" "),a("div",{staticClass:"uploader-btn",on:{click:function(t){return e.fileErrorListCancel()}}},[e._v("清空失败")]),e._v(" "),a("p"),e._v(" "),a("p")],1),e._v(" "),a("uploader-list")],1):e._e()},n=[],i=a("5f87"),o={props:{successCall:{type:Function,default:function(e,t,a,l){}},explain:{type:String,default:function(){return null}},accept:{type:String,default:function(){return null}}},data:function(){return{fileSuccessList:[],fileErrorList:[],options:null,uploaderInstance:null,attrs:{accept:this.accept}}},watch:{accept:function(e,t){this.attrs.accept=e}},mounted:function(){var e=this;this.options={target:this.apiUrl+"/admin/common/uploader",singleFile:!1,chunkSize:5242880,forceChunkSize:!1,simultaneousUploads:10,fileParameterName:"file",query:{},headers:{Authorization:"Bearer "+Object(i["a"])()},withCredentials:!1,uploadMethod:"POST",allowDuplicateUploads:!1,maxChunkRetries:10,chunkRetryInterval:1,successStatuses:[200,201,202],permanentErrors:[404,415,500,501],generateUniqueIdentifier:function(t){var a=e.$md5(t.lastModified+t.size+t.type);return a}},this.$nextTick((function(){e.uploaderInstance=e.$refs.upload.uploader}))},methods:{fileStatusText:function(e,t){var a={success:"上传成功",uploading:"上传中...",paused:"暂停",waiting:"waiting",error:"error"},l="";return l="error"==e?t:a[e],l},fileSuccess:function(e,t,a,l){this.fileSuccessList.push(e),this.successCall(e,t,a,l)},fileComplete:function(e){},fileProgress:function(e,t,a){},fileAdded:function(e,t){return!0},filesAdded:function(e,t,a){return!0},filesSubmitted:function(e,t,a){return!0},fileRemoved:function(e){},fileRetry:function(e,t,a){},fileError:function(e,t,a,l){this.fileErrorList.push(e)},uploadStart:function(){},complete:function(){},catchAll:function(e){},fileErrorListCancel:function(){var e=this;this.$confirm("确定需要清空列表中以及长传失败的视频?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t in e.fileErrorList)e.$refs.upload.uploader.removeFile(e.fileErrorList[t]);e.fileErrorList=[],e.msgInfo("清空列表成功")}))},fileSuccessCancel:function(){var e=this;this.$confirm("确定需要清空列表中以及成功长传的视频?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t in e.fileSuccessList)e.$refs.upload.uploader.removeFile(e.fileSuccessList[t]);e.fileSuccessList=[],e.msgInfo("清空列表成功")}))},cancel:function(){var e=this;this.$refs.upload.uploader.isUploading()?this.$confirm("当前有文件正在上传 确定要清空列表?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.upload.uploader.cancel(),e.msgInfo("清空列表成功")})):(this.$refs.upload.uploader.cancel(),this.msgInfo("清空列表成功"))}}},s=o,r=(a("c0cf"),a("2877")),c=Object(r["a"])(s,l,n,!1,null,null,null);t["a"]=c.exports},c0cf:function(e,t,a){"use strict";a("b781")},c2d0:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return d}));a("6b54");var l=a("b775");function n(e){return Object(l["a"])({url:"/cms/cmsCartoonList/list",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/cms/cmsCartoonList/get",method:"get",params:{id:e.toString()}})}function o(e){return Object(l["a"])({url:"/cms/cmsCartoonList/add",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/cms/cmsCartoonList/edit",method:"put",data:e})}function r(e){return Object(l["a"])({url:"/cms/cmsCartoonList/delete",method:"delete",data:{ids:e}})}function c(e){return Object(l["a"])({url:"/cms/cmsClass/list",method:"get",params:e})}function u(e){return Object(l["a"])({url:"/cms/cmsAuthor/list",method:"get",params:e})}function d(e){return Object(l["a"])({url:"/cms/cmsLocal/list",method:"get",params:e})}},c369:function(e,t,a){},c6a5:function(e,t,a){},c6bd:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-alert",{attrs:{title:"⚠️表字段中的created_by、updated_by、updated_at、deleted_at的字段在此列表中已经隐藏",type:"warning","show-icon":""}}),e._v(" "),a("el-table",{ref:"dragTable",attrs:{data:e.cloumns,"row-key":"columnId","max-height":e.tableHeight,width:"100%"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName",width:"150",fixed:"","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字段描述",width:"150",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"class-name":"allowDrag",label:"物理类型",prop:"columnType",width:"120","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"go类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.goType,callback:function(a){e.$set(t.row,"goType",a)},expression:"scope.row.goType"}},[a("el-option",{attrs:{label:"int",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"uint",value:"uint"}}),e._v(" "),a("el-option",{attrs:{label:"int64",value:"int64"}}),e._v(" "),a("el-option",{attrs:{label:"uint64",value:"uint64"}}),e._v(" "),a("el-option",{attrs:{label:"float64",value:"float64"}}),e._v(" "),a("el-option",{attrs:{label:"string",value:"string"}}),e._v(" "),a("el-option",{attrs:{label:"Time",value:"Time"}}),e._v(" "),a("el-option",{attrs:{label:"byte",value:"byte"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"go属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.goField,callback:function(a){e.$set(t.row,"goField",a)},expression:"scope.row.goField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"json属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.htmlField,callback:function(a){e.$set(t.row,"htmlField",a)},expression:"scope.row.htmlField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"插入",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1",disabled:"1"==t.row.isPk||"created_at"==t.row.columnName},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"编辑",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1",disabled:"1"==t.row.isPk||"created_at"==t.row.columnName},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1",disabled:t.row.htmlField==e.info.treeParentCode},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1",disabled:t.row.htmlField==e.info.treeParentCode},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),e._v(" "),a("el-option",{attrs:{label:"!=",value:"NE"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"GT"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"GTE"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"LT"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"LTE"}}),e._v(" "),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),e._v(" "),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"必填",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示类型",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:t.row.htmlField==e.info.treeParentCode},model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),e._v(" "),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"下拉框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选框",value:"radio"}}),e._v(" "),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),e._v(" "),a("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联表",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(a){return e.handleChangeConfig(t.row,t.$index)}},model:{value:t.row.linkTableName,callback:function(a){e.$set(t.row,"linkTableName",a)},expression:"scope.row.linkTableName"}},e._l(e.relationTable,(function(t){return a("el-option",{key:t.tableName,attrs:{label:t.tableName,value:t.tableName}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.tableName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tableComment))])])})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联表key",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.linkLabelId,callback:function(a){e.$set(t.row,"linkLabelId",a)},expression:"scope.row.linkLabelId"}},e._l(t.row.fkCol,(function(t){return a("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.htmlField}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.htmlField))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联表value",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.linkLabelName,callback:function(a){e.$set(t.row,"linkLabelName",a)},expression:"scope.row.linkLabelName"}},e._l(t.row.fkCol,(function(t){return a("el-option",{key:t.columnName,attrs:{label:t.columnName,value:t.htmlField}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.htmlField))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.columnComment))])])})),1)]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},n=[],i=(a("ac6a"),a("5df3"),a("6762"),a("2fdb"),a("4b72")),o=a("ed45"),s=a("6ff4"),r=a("6a66"),c=a("53fe"),u=a.n(c),d={name:"GenEdit",components:{basicInfoForm:s["default"],genInfoForm:r["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",cloumns:[],dictOptions:[],info:{},relationTable:[]}},beforeCreate:function(){var e=this,t=this.$route.query.tableId;t&&(Object(i["c"])(t).then((function(t){var a=[];a=t.data.rows.filter((function(e){return!["created_by","updated_by","updated_at","deleted_at"].includes(e.columnName)})),e.cloumns=a,e.info=t.data.info,e.info.columns=e.cloumns})),Object(o["f"])().then((function(t){e.dictOptions=t.data})),Object(i["d"])().then((function(t){e.relationTable=t.data})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(l){var n=l.every((function(e){return!!e}));if(n){var o=Object.assign({},t.model,a.model);o.columns=e.cloumns,o.params={treeCode:o.treeCode,treeName:o.treeName,treeParentCode:o.treeParentCode},Object(i["i"])(o).then((function(t){e.msgSuccess(t.data),0===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},setInfoColumn:function(e){this.info.column=e},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/system/tools/gen",query:{t:Date.now()}})},handleChangeConfig:function(e,t){this.relationTable.filter((function(t){t.tableName===e.linkTableName&&(e.fkCol=t.columns)}))}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];u.a.create(t,{handle:".allowDrag",onEnd:function(t){var a=e.cloumns.splice(t.oldIndex,1)[0];for(var l in e.cloumns.splice(t.newIndex,0,a),e.cloumns)e.cloumns[l].sort=parseInt(l)+1}})}},m=d,p=(a("13c2"),a("2877")),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},c7ad:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"关键字",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户账号或姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/addUser"],expression:"['system/auth/addUser']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/editUser"],expression:"['system/auth/editUser']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/deleteAdmin"],expression:"['system/auth/deleteAdmin']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户账号",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"userNickname","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"角色",align:"center",prop:"roleInfo","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roleInfo,(function(t,l){return a("span",{key:l},[e._v("   "+e._s(t.name)+"   ")])}))}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"mobile",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.userStatus,callback:function(a){e.$set(t.row,"userStatus",a)},expression:"scope.row.userStatus"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/editUser"],expression:"['system/auth/editUser']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),1!==t.row.userId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/deleteAdmin"],expression:"['system/auth/deleteAdmin']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system/auth/resetUserPwd"],expression:"['system/auth/resetUserPwd']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.handleTreeRmEmpty(e.deptOptions),normalizer:e.normalizer,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户账号",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.postIds,callback:function(t){e.$set(e.form,"postIds",t)},expression:"form.postIds"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用户类型"}},[a("el-radio-group",{model:{value:e.form.isAdmin,callback:function(t){e.$set(e.form,"isAdmin",t)},expression:"form.isAdmin"}},[a("el-radio",{attrs:{label:1}},[e._v("后台管理员")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("前台用户")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n        将文件拖到此处，或\n        "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据\n        "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("c0c7")),o=a("5f87"),s=a("fcb7"),r=a("ca17"),c=a.n(r),u=(a("542c"),{name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{id:"deptId",children:"children",label:"deptName"},normalizer:function(e){return{id:e.deptId,label:e.deptName,children:e.children}},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(o["a"])()},url:"/api/v1/system/user/importData"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data.values||[]})),this.getList(),this.getTreeselect()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["i"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.userList,e.total=t.data.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(s["g"])().then((function(t){e.deptOptions=t.data.depts}))},filterNode:function(e,t){return!e||-1!==t[this.defaultProps.label].indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.deptId,this.getList()},handleStatusChange:function(e){var t=this,a=1===e.userStatus?"启用":"停用";this.$confirm('确认要"'+a+'"："'+e.userName+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.id,e.userStatus)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.userStatus=0===e.userStatus?1:0}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"1",remark:void 0,postIds:[],roleIds:[],isAdmin:0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),Object(i["f"])().then((function(t){e.postOptions=t.data.posts,e.roleOptions=t.data.roleList,e.open=!0,e.title="添加用户",e.form.password=""}))},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["e"])(a).then((function(e){var a=e.data.userInfo;t.form={userId:a.id,deptId:a.deptId,userName:a.userName,nickName:a.userNickname,password:void 0,phonenumber:a.mobile,email:a.userEmail,sex:""+a.sex,status:""+a.userStatus,remark:a.remark,postIds:e.data.checkedPosts,roleIds:e.data.checkedRoleIds,isAdmin:a.isAdmin},t.postOptions=e.data.posts,t.roleOptions=e.data.roleList,t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.userName+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var l=a.value;l&&""!=l?Object(i["j"])(e.id,l).then((function(e){0===e.code?t.msgSuccess("修改成功，新密码是："+l):t.msgError(e.msg)})):t.msgError("密码不能为空")})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.userId?Object(i["k"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(i["h"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),d=u,m=a("2877"),p=Object(m["a"])(d,l,n,!1,null,null,null);t["default"]=p.exports},c7e9:function(e,t,a){"use strict";a.r(t);a("4917"),a("ac6a");var l=a("23f1"),n=function(e){return e.keys()},i=/\.\/(.*)\.svg/,o=n(l).map((function(e){return e.match(i)[1]}));t["default"]=o},cb40:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"登录IP",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入登录IP",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"uuid","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"ip","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"explorer"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleForceLogout(t.row)}}},[e._v("强退")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},n=[],i=a("b775");function o(e){return Object(i["a"])({url:"/system/monitor/online/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/monitor/online/forceLogout",method:"put",data:{ids:e}})}var r={name:"Online",data:function(){return{loading:!0,total:0,list:[],queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleForceLogout:function(e){var t=this;this.$confirm('是否确认强退名称为"'+e.userName+'"的用户?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s([e.id])})).then((function(){t.getList(),t.msgSuccess("强退成功")})).catch((function(){}))}}},c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},cc0b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var l=a("b775");function n(){return Object(l["a"])({url:"/system/monitor/server/info",method:"get"})}},cc2c:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions.values,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典ID",align:"center",prop:"dictId"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/dict/dataList/"+t.row.dictType}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions.values,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("ed45")),o={name:"Dict/list",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions.values,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"1",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(i["d"])(a).then((function(e){t.form={dictId:e.data.dictId,dictName:e.data.dictName,dictType:e.data.dictType,status:""+e.data.status,remark:e.data.remark},t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictId?Object(i["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cfd5:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpuNum?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpuNum))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("cpu使用率")])]),e._v(" "),a("td",[e.server.cpuUsed?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpuUsed)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Load Avg 5")])]),e._v(" "),a("td",[e.server.cpuAvg5?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpuAvg5)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Load Avg 15")])]),e._v(" "),a("td",[e.server.cpuAvg15?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpuAvg15)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("服务器内存")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("本系统使用内存")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.memTotal?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.memTotal)))]):e._e()]),e._v(" "),a("td",[e.server.goTotal?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.goTotal)))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.memUsed?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.memUsed)))]):e._e()]),e._v(" "),a("td",[e.server.goUsed?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.goUsed)))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),e._v(" "),a("td",[e.server.memFree?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.memFree)))]):e._e()]),e._v(" "),a("td",[e.server.goFree?a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(e.server.goFree)))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.memUsage?a("div",{staticClass:"cell",class:{"text-danger":e.server.memUsage>80}},[e._v(e._s(e.server.memUsage)+"%")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.goUsage>80}},[e._v(e._s(e.server.goUsage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),e._v(" "),a("td",[e.server.sysComputerName?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sysComputerName))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.sysOsName?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sysOsName))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),e._v(" "),a("td",[e.server.sysComputerIp?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sysComputerIp))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),e._v(" "),a("td",[e.server.sysOsArch?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sysOsArch))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("GO信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("语言环境")])]),e._v(" "),a("td",[e.server.goName?a("div",{staticClass:"cell"},[e._v(e._s(e.server.goName))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),e._v(" "),a("td",[e.server.goStartTime?a("div",{staticClass:"cell"},[e._v(e._s(e.server.goStartTime))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("安装路径")])]),e._v(" "),a("td",[e.server.goHome?a("div",{staticClass:"cell"},[e._v(e._s(e.server.goHome))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("项目路径")])]),e._v(" "),a("td",[e.server.goUserDir?a("div",{staticClass:"cell"},[e._v(e._s(e.server.goUserDir))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("版本")])]),e._v(" "),a("td",[e.server.goVersion?a("div",{staticClass:"cell"},[e._v(e._s(e.server.goVersion))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),e._v(" "),a("td",[e.server.goRunTime?a("div",{staticClass:"cell"},[e._v(e._s(e.timeFormat(e.server.goRunTime)))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e._v(" "),e.server.diskList?a("tbody",e._l(e.server.diskList,(function(t,l){return a("tr",{key:l},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.path))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.fstype))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(t.total)))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(t.free)))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.memorySizeFormat(t.used)))])]),e._v(" "),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usedPercent>80}},[e._v(e._s(t.usedPercent)+"%")])])])})),0):e._e()])])])],1)],1)],1)},n=[],i=a("cc0b"),o={name:"Server",data:function(){return{loading:[],server:[],runTag:null}},created:function(){this.getList(),this.runTag=setInterval(this.getList,5e3),this.openLoading()},deactivated:function(){clearInterval(this.runTag),this.runTag=null},activated:function(){this.runTag||(this.runTag=setInterval(this.getList,5e3))},destroyed:function(){clearInterval(this.runTag),this.runTag=null},methods:{getList:function(){var e=this;Object(i["a"])().then((function(t){e.server=t.data,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},memorySizeFormat:function(e){e=parseFloat(e);var t=0,a="Bytes";while(e>1024&&"GB"!=a)e/=1024,t++,1==t?a="KB":2==t?a="MB":3==t&&(a="GB");return e.toFixed(2)+" "+a},timeFormat:function(e){e=parseFloat(e);var t=0,a="秒";while(e>60&&"小时"!=a)e/=60,t++,1==t?a="分":2==t&&(a="小时");return e.toFixed(2)+" "+a}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},d153:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],i=a("313e"),o=a("feb2");a("817d");var s={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i["default"].init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},r=s,c=a("2877"),u=Object(c["a"])(r,l,n,!1,null,null,null);t["default"]=u.exports},d4cd:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},n=[],i={name:"Druid",data:function(){return{src:"/api/v1/druid/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,null,null);t["default"]=r.exports},d755:function(e,t,a){},dbe2:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"requestMethod"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.requestMethod,callback:function(t){e.$set(e.queryParams,"requestMethod",t)},expression:"queryParams.requestMethod"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",align:"center",prop:"operId"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"requestMethod"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName"}}),e._v(" "),a("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作时间",align:"center",prop:"operTime",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" ")]),e._v(" "),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.deptName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[1===e.form.status?a("div",[e._v("正常")]):a("div",[e._v("失败")])])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.form.operTime))])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},n=[],i=(a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/system/monitor/operLog/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/monitor/operLog/delete",method:"delete",data:{ids:e}})}function r(){return Object(i["a"])({url:"/system/monitor/operLog/clear",method:"delete"})}function c(e){return Object(i["a"])({url:"/monitor/operlog/export",method:"get",params:e})}var u={name:"Operlog",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,typeOptions:[{key:"get",value:"读取"},{key:"post",value:"新增"},{key:"put",value:"修改"},{key:"delete",value:"删除"}],statusOptions:[],dateRange:[],form:{},queryParams:{pageNum:1,pageSize:10,title:void 0,operName:void 0,requestMethod:void 0,status:void 0}}},created:function(){var e=this;this.getDicts("sys_oper_log_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.requestMethod)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,l,n,!1,null,null,null);t["default"]=p.exports},dd7b:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[a("h3",{staticClass:"title"},[e._v("极兔转码系统")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),e._v(" "),a("div",{staticClass:"login-code"},[a("img",{attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1),e._v(" "),a("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1)],1),e._v(" "),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-login-footer"},[a("span",[e._v("Copyright © 2021-2023 g-fast.cn All Rights Reserved.")])])}],i=a("7ded"),o=a("a78e"),s=a.n(o),r=a("720d"),c=a.n(r),u="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBANL378k3RiZHWx5AfJqdH9xRNBmD9wGD\n2iRe41HdTNF8RUhNnHit5NpMNtGL0NPTSSpPjjI1kJfVorRvaQerUgkCAwEAAQ==",d="MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEA0vfvyTdGJkdbHkB8\nmp0f3FE0GYP3AYPaJF7jUd1M0XxFSE2ceK3k2kw20YvQ09NJKk+OMjWQl9WitG9p\nB6tSCQIDAQABAkA2SimBrWC2/wvauBuYqjCFwLvYiRYqZKThUS3MZlebXJiLB+Ue\n/gUifAAKIg1avttUZsHBHrop4qfJCwAI0+YRAiEA+W3NK/RaXtnRqmoUUkb59zsZ\nUBLpvZgQPfj1MhyHDz0CIQDYhsAhPJ3mgS64NbUZmGWuuNKp5coY2GIj/zYDMJp6\nvQIgUueLFXv/eZ1ekgz2Oi67MNCk5jeTF2BurZqNLR3MSmUCIFT3Q6uHMtsB9Eha\n4u7hS31tj1UWE+D+ADzp59MGnoftAiBeHT7gDMuqeJHPL4b+kC+gzV4FGTfhR9q3\ntTbklZkD2A==";function m(e){var t=new c.a;return t.setPublicKey(u),t.encrypt(e)}function p(e){var t=new c.a;return t.setPrivateKey(d),t.decrypt(e)}var f={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"demo",password:"123456",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCode(),this.getCookie()},methods:{getCode:function(){var e=this;Object(i["a"])().then((function(t){e.codeUrl=t.data.base64stringC,e.loginForm.uuid=t.data.idKeyC}))},getCookie:function(){var e=s.a.get("username"),t=s.a.get("password"),a=s.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:p(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(s.a.set("username",e.loginForm.username,{expires:30}),s.a.set("password",m(e.loginForm.password),{expires:30}),s.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(s.a.remove("username"),s.a.remove("password"),s.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"})})).catch((function(){e.loading=!1,e.getCode()})))}))}}},h=f,v=(a("739a"),a("2877")),b=Object(v["a"])(h,l,n,!1,null,null,null);t["default"]=b.exports},de0a:function(e){e.exports=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]},de1e:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")])],1)],1)],1)},n=[],i=a("ed08"),o={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(i["g"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},e077:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"g",(function(){return m}));a("6b54");var l=a("b775");function n(e){return Object(l["a"])({url:"/cms/cmsVideoList/list",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/cms/cmsVideoList/get",method:"get",params:{id:e.toString()}})}function o(e){return Object(l["a"])({url:"/cms/cmsVideoList/reTransco",method:"post",data:{ids:e}})}function s(e){return Object(l["a"])({url:"/cms/cmsVideoList/add",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/cms/cmsVideoList/edit",method:"put",data:e})}function c(e){return Object(l["a"])({url:"/cms/cmsVideoList/delete",method:"delete",data:{ids:e}})}function u(e){return Object(l["a"])({url:"/cms/cmsClass/list",method:"get",params:e})}function d(e){return Object(l["a"])({url:"/cms/cmsAuthor/list",method:"get",params:e})}function m(e){return Object(l["a"])({url:"/cms/cmsLocal/list",method:"get",params:e})}},e10b:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},n=[],i=a("4b72"),o={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(i["f"])(this.queryParams).then((function(t){0===t.code&&(e.dbTableList=t.data.list,e.total=t.data.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;0!=this.tables.length?Object(i["e"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),0===t.code&&(e.visible=!1,e.$emit("ok"))})):this.msgError("请选择要导入的表格")}}},s=o,r=a("2877"),c=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=c.exports},e1fc:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,l){return a("el-radio-button",{key:l,attrs:{label:t.value,disabled:t.disabled}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)],1),e._v(" "),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")])],1)],1)],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",s({},e.formData)),e.close())}))}}},c=r,u=a("2877"),d=Object(u["a"])(c,l,n,!1,null,null,null);t["default"]=d.exports},e52c:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"作者",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入作者名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"内容类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsAuthor/add"],expression:"['cms/cmsAuthor/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsAuthor/delete"],expression:"['cms/cmsAuthor/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsAuthorList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsAuthor/edit"],expression:"['cms/cmsAuthor/edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsAuthor/delete"],expression:"['cms/cmsAuthor/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"演员名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入演员名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"内容类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsAuthor/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsAuthor/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsAuthor/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsAuthor/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsAuthor/delete",method:"delete",data:{ids:e}})}var d={components:{},name:"CmsAuthor",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsAuthorList:[],title:"",open:!1,typeOptions:[],queryParams:{pageNum:1,pageSize:10,id:void 0,name:void 0,type:void 0},form:{},rules:{name:[{required:!0,message:"演员名称不能为空",trigger:"blur"}],type:[{required:!0,message:"分类不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsAuthorList=t.data.list,e.total=t.data.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,type:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加作者列"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.type=""+a.type,t.form=a,t.open=!0,t.title="修改作者列"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除作者列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},eab4:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],i=a("313e"),o=a("feb2");a("817d");var s={mixins:[o["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i["default"].init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},r=s,c=a("2877"),u=Object(c["a"])(r,l,n,!1,null,null,null);t["default"]=u.exports},ebab:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务分组",align:"center",prop:"jobGroup","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务方法名",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":0,"inactive-value":1},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-caret-right"},on:{click:function(a){return e.handleJobRun(t.row)}}},[e._v("执行")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              调用方法\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  示例：demo1\n                ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入调用方法字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"jobParams"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              执行参数\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  以|分隔多个参数 示例：param1|param1\n                  "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型\n                ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"若有参数，请输入。"},model:{value:e.form.jobParams,callback:function(t){e.$set(e.form,"jobParams",t)},expression:"form.jobParams"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}}),e._v(" "),a("ul",{staticStyle:{"list-style":"none"}},[a("li",[a("i",{staticClass:"el-icon-warning"}),e._v(" */5 * * * * ? : 每隔5秒执行一次")]),e._v(" "),a("li",[a("i",{staticClass:"el-icon-warning"}),e._v(" 20 */1 * * * ? : 每隔1分钟执行一次")]),e._v(" "),a("li",[a("i",{staticClass:"el-icon-warning"}),e._v(" 30 0 23 * * ? : 每天23点执行一次")]),e._v(" "),a("li",[a("i",{staticClass:"el-icon-warning"}),e._v(" 0 0 1 * * ? : 每天凌晨1点执行一次")]),e._v(" "),a("li",[a("i",{staticClass:"el-icon-warning"}),e._v(" 0 0 1 1 * ? : 每月1号凌晨1点执行一次")])])],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行策略"}},[a("el-radio-group",{model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},e._l(e.jobPolicyOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/system/monitor/job/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/monitor/job/get?id="+e,method:"get"})}function r(e){return Object(i["a"])({url:"/system/monitor/job/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/system/monitor/job/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/system/monitor/job/delete",method:"delete",params:{ids:e}})}function d(e){return Object(i["a"])({url:"/system/monitor/job/export",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/system/monitor/job/start?id="+e,method:"put"})}function p(e){return Object(i["a"])({url:"/system/monitor/job/stop?id="+e,method:"put"})}function f(e){return Object(i["a"])({url:"/system/monitor/job/run?id="+e,method:"put"})}var h={name:"Job",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,jobList:[],title:"",open:!1,openView:!1,jobGroupOptions:[],jobPolicyOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data.values||[]})),this.getDicts("sys_job_policy").then((function(t){e.jobPolicyOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.jobList=t.data.list,e.total=t.data.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobParams:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:"1",concurrent:"1",status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleStatusChange:function(e){var t=this,a=0===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return 0===e.status?m(e.jobId):p(e.jobId)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status=0===e.status?1:0}))},handleJobLog:function(){this.$router.push("/job/log")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||0;s(a).then((function(e){t.form=e.data,t.form.misfirePolicy=""+t.form.misfirePolicy,t.form.concurrent=""+t.form.concurrent,t.form.status=""+t.form.status,t.open=!0,t.title="修改任务"}))},handleDelete:function(e){var t=this,a=e.jobId?[e.jobId]:this.ids;this.$confirm("是否确认删除选择的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleJobRun:function(e){var t=this,a=e.jobId||0;this.$confirm("是否确认立即执行一次该任务?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return f(a)})).then((function(){t.msgSuccess("执行成功")})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有定时任务数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},v=h,b=a("2877"),g=Object(b["a"])(v,l,n,!1,null,null,null);t["default"]=g.exports},ebec:function(e,t,a){},ec55:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        401错误!\n      ")]),e._v(" "),a("h2",[e._v("您没有访问权限！")]),e._v(" "),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v("\n            回首页\n          ")])],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},n=[],i=a("cc6c"),o=a.n(i),s={name:"Page401",data:function(){return{errGif:o.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},r=s,c=(a("4252"),a("2877")),u=Object(c["a"])(r,l,n,!1,null,"f2e02586",null);t["default"]=u.exports},ed45:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/config/dict/type/list",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/system/config/dict/type/one?dictId="+e,method:"get"})}function o(e){return Object(l["a"])({url:"/system/config/dict/type/add",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/system/config/dict/type/edit",method:"put",data:e})}function r(){return Object(l["a"])({url:"/system/config/dict/type/optionSelect",method:"get"})}function c(e){return Object(l["a"])({url:"/system/config/dict/type/delete",method:"delete",data:{dictIds:e}})}function u(e){return Object(l["a"])({url:"/system/dict/type/export",method:"get",params:e})}},eff7:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},n=[],i={name:"Swagger",data:function(){return{src:"/api/v1/swagger",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,null,null);t["default"]=r.exports},f2d2:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录IP",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录地点",prop:"loginLocation"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地点",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.loginLocation,callback:function(t){e.$set(e.queryParams,"loginLocation",t)},expression:"queryParams.loginLocation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登录时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",align:"center",prop:"infoId"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"loginName"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作信息",align:"center",prop:"msg"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录模块",alian:"center",prop:"module"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},n=[],i=(a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/system/monitor/loginLog/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/monitor/loginLog/delete",method:"delete",data:{ids:e}})}function r(){return Object(i["a"])({url:"/system/monitor/loginLog/clear",method:"delete"})}function c(e){return Object(i["a"])({url:"/monitor/logininfor/export",method:"get",params:e})}var u={name:"Logininfor",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,loginLocation:void 0,userName:void 0,status:void 0}}},created:function(){var e=this;this.getDicts("admin_login_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleDelete:function(){var e=this,t=this.ids;this.$confirm('是否确认删除访问编号为"'+t+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(t)})).then((function(){e.getList(),e.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return r()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,l,n,!1,null,null,null);t["default"]=p.exports},f3c9:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入分类名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsClass/add"],expression:"['cms/cmsClass/add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsClass/delete"],expression:"['cms/cmsClass/delete']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsClassList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsClass/edit"],expression:"['cms/cmsClass/edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsClass/delete"],expression:"['cms/cmsClass/delete']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入分类名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsClass/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/cms/cmsClass/get",method:"get",params:{id:e.toString()}})}function r(e){return Object(i["a"])({url:"/cms/cmsClass/add",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/cms/cmsClass/edit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/cms/cmsClass/delete",method:"delete",data:{ids:e}})}var d={components:{},name:"CmsClass",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsClassList:[],title:"",open:!1,typeOptions:[],queryParams:{pageNum:1,pageSize:10,id:void 0,type:void 0,name:void 0},form:{},rules:{name:[{required:!0,message:"分类名不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsClassList=t.data.list,e.total=t.data.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,type:void 0,name:void 0,createdAt:void 0,updatedAt:void 0,deletedAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加分类列"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;s(a).then((function(e){var a=e.data;a.type=""+a.type,t.form=a,t.open=!0,t.title="修改分类列"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除分类列编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,n,!1,null,null,null);t["default"]=f.exports},f472:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择分类",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择通知状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/add"],expression:"['cms/cmsDownloadList/add']"}],attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:e.handleEdit}},[e._v("同步配置\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/add"],expression:"['cms/cmsDownloadList/add']"}],attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:function(t){return e.statusChange(1)}}},[e._v("失败重新同步\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["cms/cmsDownloadList/add"],expression:"['cms/cmsDownloadList/add']"}],attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:function(t){return e.statusChange(0)}}},[e._v("全部重新同步\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cmsCloudLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"同步类型",align:"center",prop:"cloud",formatter:e.cloudFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"250",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.updatedAt,"{y}-{m}-{d}")))])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{size:"mini","label-width":"100px"}},[a("el-form-item",{attrs:{label:"同步至"}},[a("div",{staticStyle:{display:"flex",width:"80%","margin-left":"20px","align-items":"center"}},[a("el-select",{model:{value:e.form.cloud,callback:function(t){e.$set(e.form,"cloud",t)},expression:"form.cloud"}},e._l(e.cloudStorageInfo,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)]),e._v(" "),"Local"===e.form.cloud?[a("el-form-item",{attrs:{label:"服务器IP"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.host,callback:function(t){e.$set(e.form,"host",t)},expression:"form.host"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"API秘钥"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1)]:e._e(),e._v(" "),"Qiliu"==e.form.cloud?[a("el-form-item",{attrs:{label:"access"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,"accessKey",t)},expression:"form.accessKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"桶名"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.bucketName,callback:function(t){e.$set(e.form,"bucketName",t)},expression:"form.bucketName"}})],1)]:e._e(),e._v(" "),"Tencent"==e.form.cloud?[a("el-form-item",{attrs:{label:"access"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,"accessKey",t)},expression:"form.accessKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"桶名"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.bucketName,callback:function(t){e.$set(e.form,"bucketName",t)},expression:"form.bucketName"}})],1)]:e._e(),e._v(" "),"Aliyun"==e.form.cloud?[a("el-form-item",{attrs:{label:"endpoint"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.endpoint,callback:function(t){e.$set(e.form,"endpoint",t)},expression:"form.endpoint"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"access"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,"accessKey",t)},expression:"form.accessKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"桶名"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.bucketName,callback:function(t){e.$set(e.form,"bucketName",t)},expression:"form.bucketName"}})],1)]:e._e(),e._v(" "),"S3"==e.form.cloud?[a("el-form-item",{attrs:{label:"region"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"endpoint"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.endpoint,callback:function(t){e.$set(e.form,"endpoint",t)},expression:"form.endpoint"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"access"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,"accessKey",t)},expression:"form.accessKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"桶名"}},[a("el-input",{staticStyle:{width:"80%","margin-left":"20px"},attrs:{placeholder:"",clearable:""},model:{value:e.form.bucketName,callback:function(t){e.$set(e.form,"bucketName",t)},expression:"form.bucketName"}})],1)]:e._e(),e._v(" "),a("el-form-item",{attrs:{label:"删除本地文件"}},[a("div",{staticStyle:{width:"80%","margin-left":"20px"}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.form.delLocal,callback:function(t){e.$set(e.form,"delLocal",t)},expression:"form.delLocal"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.form.delLocal,callback:function(t){e.$set(e.form,"delLocal",t)},expression:"form.delLocal"}},[e._v("关闭")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"删除本地数据"}},[a("div",{staticStyle:{width:"80%","margin-left":"20px"}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.form.deldata,callback:function(t){e.$set(e.form,"deldata",t)},expression:"form.deldata"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.form.deldata,callback:function(t){e.$set(e.form,"deldata",t)},expression:"form.deldata"}},[e._v("关闭")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("div",{staticStyle:{width:"80%","margin-left":"20px"}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("停止")])],1)]),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{size:"mini"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.getForm()}}},[e._v("重置")])],1)],2)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},n=[],i=(a("ac6a"),a("6b54"),a("b775"));function o(e){return Object(i["a"])({url:"/cms/cmsCloudLog/list",method:"get",params:e})}function s(e,t){var a={type:t};return Object(i["a"])({url:"/cms/cmsCloudLog/changeStatus",method:"put",data:a})}var r=a("c0c3"),c={components:{},name:"CmsCloudLog",data:function(){return{cloudform:{},loading:!0,ids:[],single:!0,multiple:!0,total:0,cmsCloudLogList:[],title:"",open:!1,typeOptions:[],statusOptions:[],cloudOptions:[],queryParams:{pageNum:1,pageSize:10,type:void 0,status:void 0,relationId:void 0,cloud:void 0,createdAt:void 0},cloudStorageInfo:[],form:{cloud:"",host:"",key:"",accessKey:"",secretKey:"",bucketName:"",appId:"",region:"",endpoint:"",delLocal:"no",status:"no",deldata:"no"},configInfo:{},rules:{},timer:null}},created:function(){var e=this;this.getDicts("content_type").then((function(t){e.typeOptions=t.data.values||[]})),this.getDicts("common_status").then((function(t){e.statusOptions=t.data.values||[]})),this.getDicts("cloudStorageInfo").then((function(t){e.cloudOptions=t.data.values||[]})),this.getDicts("cloudStorageInfo").then((function(t){e.cloudStorageInfo=t.data.values||[]})),this.getForm(),this.getList(),this.timer=1,this.timerIng()},beforeDestroy:function(){this.timer=0},methods:{timerIng:function(){var e=this;this.getList2((function(){1==e.timer&&setTimeout(e.timerIng,2e3)}))},statusChange:function(e){var t=this,a=1===e?"重新同步所有失败记录":"重新同步全部记录";this.$confirm('确认要"'+a+'"：吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(e)})).then((function(){t.msgSuccess(a+" 提交成功")})).catch((function(){}))},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.cmsCloudLogList=t.data.list,e.total=t.data.total,e.loading=!1}))},getList2:function(e){var t=this;o(this.queryParams).then((function(a){t.cmsCloudLogList=a.data.list,t.total=a.data.total,e()}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},statusFormat:function(e,t){return 2==e.status?2==e.status?e.progress+"%":"":this.selectDictLabel(this.statusOptions,e.status)},cloudFormat:function(e,t){return this.selectDictLabel(this.cloudOptions,e.cloud)},cancel:function(){this.open=!1,this.getForm()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleEdit:function(){console.log(this.from),this.getForm(),this.open=!0,this.title="编辑同步配置"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},getForm:function(){var e=this;Object(r["f"])({configKey:"cms.cloudStorageInfo.resolution"}).then((function(t){var a=t.data.list,l=a[0],n=l.configValue;e.form=JSON.parse(n),e.configInfo=l}))},submitForm:function(e){var t=this;this.configInfo.configId&&(this.configInfo.configValue=JSON.stringify(this.form),Object(r["h"])({value:[this.configInfo]}).then((function(e){0===e.code?(t.cancel(),t.getList(),t.msgSuccess("修改成功")):t.msgError(e.msg)})))}}},u=c,d=a("2877"),m=Object(d["a"])(u,l,n,!1,null,null,null);t["default"]=m.exports},f634:function(e,t,a){},fbc4:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          访客\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          消息\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          金额\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          订单\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},n=[],i=a("ec1b"),o=a.n(i),s={components:{CountTo:o.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},r=s,c=(a("1f67"),a("2877")),u=Object(c["a"])(r,l,n,!1,null,"0ac8ac4e",null);t["default"]=u.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return d}));var l=a("b775");function n(e){return Object(l["a"])({url:"/system/auth/deptList",method:"get",params:e})}function i(e){return Object(l["a"])({url:"/system/auth/deptList?excludeId="+e,method:"get"})}function o(e){return Object(l["a"])({url:"/system/auth/deptGet?id="+e,method:"get"})}function s(){return Object(l["a"])({url:"/system/auth/deptTreeSelect",method:"get"})}function r(e){return Object(l["a"])({url:"/system/auth/roleDeptTreeSelect?roleId="+e,method:"get"})}function c(e){return Object(l["a"])({url:"/system/auth/deptAdd",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/system/auth/deptEdit",method:"put",data:e})}function d(e){return Object(l["a"])({url:"/system/auth/deptDelete?id="+e,method:"delete"})}},fdda:function(e,t,a){"use strict";a("33e0")},fe4a:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",align:"center",prop:"postId"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"postSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"postSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.postSort,callback:function(t){e.$set(e.form,"postSort",t)},expression:"form.postSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],i=(a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/system/auth/postList",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/auth/postGet?id="+e,method:"get"})}function r(e){return Object(i["a"])({url:"/system/auth/postAdd",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/system/auth/postEdit",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/system/auth/postDelete",method:"delete",data:{ids:e}})}function d(e){return Object(i["a"])({url:"/system/post/export",method:"get",params:e})}var m={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data.values||[]}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,postSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;s(a).then((function(e){var a=e.data;a&&(t.form={postId:a.postId,postCode:a.postCode,postName:a.postName,postSort:a.postSort,status:a.status,remark:a.remark}),t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.postId?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):r(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.postId?[e.postId]:this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),h=Object(f["a"])(p,l,n,!1,null,null,null);t["default"]=h.exports},feb2:function(e,t,a){"use strict";a.r(t);var l=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(l["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}}}]);