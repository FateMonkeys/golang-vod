(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8b8b8da"],{"0e11":function(e,t,s){"use strict";s("b422")},"1e4b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:8}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("CPU使用率")])]),e._v(" "),s("div",{staticClass:"monitor"},[s("div",{staticClass:"monitor-header"},[s("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.cpuUsed).toFixed(2)}})],1),e._v(" "),s("div",{staticClass:"monitor-footer"},[s("Cell",{attrs:{label:"CPU主频",value:e.server.mhz/1e3+"GHz",border:""}}),e._v(" "),s("Cell",{attrs:{label:"核心数",value:e.server.cpuNum}})],1)])])],1),e._v(" "),s("el-col",{attrs:{sm:24,md:8}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("内存使用率")])]),e._v(" "),s("div",{staticClass:"monitor"},[s("div",{staticClass:"monitor-header"},[s("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.memUsage).toFixed(2)}})],1),e._v(" "),s("div",{staticClass:"monitor-footer"},[s("Cell",{attrs:{label:"总内存",value:e.memorySizeFormat(e.server.memTotal),border:""}}),e._v(" "),s("Cell",{attrs:{label:"已用内存",value:e.memorySizeFormat(e.server.memUsed)}})],1)])])],1),e._v(" "),s("el-col",{attrs:{sm:24,md:8}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("程序安装盘")])]),e._v(" "),s("div",{staticClass:"monitor"},[s("div",{staticClass:"monitor-header"},[s("Yibiao",{staticStyle:{height:"150px"},attrs:{strokeWidth:8,size:"180px",percentage:Number(e.server.diskPercent).toFixed(2)}})],1),e._v(" "),s("div",{staticClass:"monitor-footer"},[s("Cell",{attrs:{label:"总空间",value:e.server.diskTotal+"Gb",border:""}}),e._v(" "),s("Cell",{attrs:{label:"可用空间",value:e.server.diskAvailable+"Gb"}})],1)])])],1)],1),e._v(" "),s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("下载结果")])]),e._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[s("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[s("Cell",{attrs:{"label-size":"5px",label:"下载成功",value:e.server.dowsOk+"",border:""}}),e._v(" "),s("Cell",{attrs:{"label-size":"5px",label:"下载失败",value:e.server.dowsErr+""}})],1),e._v(" "),s("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[s("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.dowsErr)/(Number(e.server.dows)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),s("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("下载状态")])]),e._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[s("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[s("Cell",{attrs:{"label-size":"5px",label:"等待下载",value:e.server.dowsDd+"",border:""}}),e._v(" "),s("Cell",{attrs:{"label-size":"5px",label:"正在下载",value:e.server.dowsIng+""}})],1),e._v(" "),s("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[s("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.dowsIng)/(Number(e.server.dows)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),s("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("转码结果")])]),e._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[s("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[s("Cell",{attrs:{"label-size":"5px",label:"转码成功",value:e.server.videosOk+"",border:""}}),e._v(" "),s("Cell",{attrs:{"label-size":"5px",label:"转码失败",value:e.server.videosErr+""}})],1),e._v(" "),s("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[s("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.videosErr)/(Number(e.server.videos)||1)*100).toFixed(2)}})],1)])]):e._e()],1),e._v(" "),s("el-col",{attrs:{sm:24,md:6}},[e.info.CpuInfo?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",staticStyle:{height:"8px"},attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("转码状态")])]),e._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center",width:"100%",height:"100%"}},[s("div",{staticClass:"monitor-footer",staticStyle:{width:"50%"}},[s("Cell",{attrs:{"label-size":"5px",label:"等待处理",value:e.server.videosDd+"",border:""}}),e._v(" "),s("Cell",{attrs:{"label-size":"5px",label:"正在转码",value:e.server.videosIng+""}})],1),e._v(" "),s("div",{staticStyle:{width:"50%",display:"flex","justify-content":"center","align-items":"center"}},[s("Yibiao",{staticStyle:{height:"80px"},attrs:{strokeWidth:6,size:"80",percentage:(Number(e.server.videosIng)/(Number(e.server.videos)||1)*100).toFixed(2)}})],1)])]):e._e()],1)],1),e._v(" "),s("el-row",{staticClass:"mb10",attrs:{gutter:10}},[s("el-col",{attrs:{sm:24,md:12}},[s("el-card",{attrs:{"body-style":"height: 20rem;"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("服务器网络吞吐")])]),e._v(" "),s("Net",{attrs:{recv:e.server.recv,sent:e.server.sent}})],1)],1),e._v(" "),s("el-col",{attrs:{sm:24,md:12}},[s("el-card",{attrs:{"body-style":"height: 20rem;"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("数据存储盘")])]),e._v(" "),s("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.server.diskList,height:"280"}},[s("el-table-column",{attrs:{prop:"Path",label:"盘符路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.path)+"\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"Total",label:"总大小",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.memorySizeFormat(t.row.total))+"\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"Available",label:"可用大小",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.memorySizeFormat(t.row.free))+"\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"Percent",label:"已用百分比",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(Math.round(t.row.usedPercent))+"%\n            ")]}}])})],1)],1)])],1)],1)],1)},a=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cell"},[s("div",{staticClass:"cell-inner",class:e.border?"border":""},[s("div",{staticClass:"cell-item"},[s("div",{staticClass:"cell-item-label"},[e.label?s("span",{style:{"font-size":e.labelSize}},[e._v("\n          "+e._s(e.label)+"\n        ")]):s("span",[e._t("label")],2)]),e._v(" "),s("div",{staticClass:"cell-item-value"},[e.value?s("span",{style:{"font-size":e.labelSize}},[e._v("\n          "+e._s(e.value)+"\n        ")]):s("span",[e._t("value")],2)])]),e._v(" "),s("div",{staticClass:"cell-item mt5"},[e.extra?s("span",{style:{"font-size":e.labelSize}},[e._v(e._s(e.extra))]):s("span",[e._t("extra")],2)])])])},l=[],o={name:"Cell",props:{border:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:null,default:""},extra:{type:String,default:""},labelSize:{type:String,default:"14px"}}},n=o,c=(s("b79f"),s("2877")),d=Object(c["a"])(n,r,l,!1,null,"4fc460d5",null),u=d.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:{width:"100%",height:"100%"},attrs:{id:"myChart"}})},h=[],m=s("313e"),p=1,f=1024*p,b=1024*f,g=1024*b,y={name:"Net",props:["Sent","Recv"],data:function(){return{SentList:[],RecvList:[],myChart:null,option:null,maxWidth:10}},watch:{Sent:function(e,t){var s=this;this.SentList.length>=this.maxWidth&&this.SentList.shift(),this.SentList.push(e),this.option.series[0].data=this.SentList,setTimeout((function(){s.myChart.setOption(s.option)}),800)},Recv:function(e,t){var s=this;this.RecvList.length>=this.maxWidth&&this.RecvList.shift(),this.RecvList.push(e),this.option.series[1].data=this.RecvList,setTimeout((function(){s.myChart.setOption(s.option)}),800)}},mounted:function(){this.SentList.push(this.Sent),this.RecvList.push(this.Recv),this.drwaLine()},methods:{drwaLine:function(){var e=document.getElementById("myChart");this.myChart=m["init"](e,null,{renderer:"svg"});for(var t=[],s=0;s<this.maxWidth;s++)t.push("");this.option={grid:{backgroundColor:"rgba(0,0,0,0)",borderWidth:0,x:65,y:25,x2:2,y2:4},animation:!1,tooltip:{trigger:"axis",formatter:function(e,t,s){for(var i="",a=0,r=e.length;a<r;a++){var l=1204*e[a].value,o="";l>=1e9?(l=(l/g).toFixed(1),o=l+" G/s"):l>=1e6?(l=(l/b).toFixed(1),o=l+" M/s"):(l=(l/f).toFixed(1),o=l+" K/s"),i+=(i.length>0?"<br/>":"")+e[a].seriesName+" : "+o}return i}},legend:{data:["上行","下行"]},toolbox:{show:!1,feature:{}},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:t,splitLine:{show:!1},axisTick:{show:!1}}],yAxis:[{type:"value",position:"left",axisLabel:{formatter:function(e){e*=1024;var t="";return e>=1e9?(e=(e/g).toFixed(1),t=e+" G/s"):e>=1e6?(e=(e/b).toFixed(1),t=e+" M/s"):(e=(e/f).toFixed(1),t=e+" K/s"),t}},splitLine:{show:!1}}],series:[{name:"上行",type:"line",smooth:!0,symbolSize:0,itemStyle:{normal:{lineStyle:{width:1},areaStyle:{type:"default"}}},data:this.SentList},{name:"下行",type:"line",smooth:!0,symbolSize:0,itemStyle:{normal:{lineStyle:{width:1},areaStyle:{type:"default"}}},data:this.RecvList}]},this.myChart.setOption(this.option)}}},x=y,_=(s("0e11"),Object(c["a"])(x,v,h,!1,null,null,null)),C=_.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:e.classuuid}},[s("el-progress",{ref:"progress",attrs:{type:"dashboard","stroke-width":e.strokeWidth,percentage:e.thisPercentage,color:e.colors}})],1)},w=[],z=(s("28a5"),s("c5f6"),s("1157")),k=s.n(z),L={props:{percentage:{type:Number,default:0},strokeWidth:{type:Number,default:7},size:{type:String,default:"150px"}},watch:{percentage:function(e,t){this.thisPercentage=e}},data:function(){return{classuuid:"",thisPercentage:0,colors:[{color:"#5cb87a",percentage:70},{color:"#e6a23c",percentage:90},{color:"#f56c6c",percentage:100}]}},methods:{uuid:function(e,t){var s,i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||a.length,e)for(s=0;s<e;s++)r[s]=a[0|Math.random()*t];else for(r[8]=r[13]=r[18]=r[23]="",r[14]="4",s=0;s<36;s++)r[s]||(i=0|16*Math.random(),r[s]=a[19==s?3&i|8:i]);return r.join("")}},mounted:function(){var e=this;this.classuuid=this.uuid(),this.thisPercentage=this.percentage,this.$nextTick((function(){k()("#"+e.classuuid+" .el-progress-circle").height(e.size),k()("#"+e.classuuid+" .el-progress-circle").width(e.size)}))}},F=L,I=Object(c["a"])(F,S,w,!1,null,null,null),N=I.exports,O=s("cc0b"),P={name:"Dashboard",components:{Cell:u,Net:C,Yibiao:N},data:function(){return{server:{dows:0,dowsOk:0,dowsErr:0,dowsDd:0,dowsIng:0,videos:0,videosOk:0,videosErr:0,videosDd:0,videosIng:0,diskTotal:0,diskAvailable:0,diskPercent:0,sent:0,recv:0,cpuAvg15:0,cpuAvg5:0,cpuNum:0,mhz:0,cpuUsed:10,diskList:[{path:"/",fstype:"apfs",total:586999996416,free:224417820672,used:362582175744,usedPercent:61.77,inodesTotal:2191929749,inodesUsed:349469,inodesFree:2191580280,inodesUsedPercent:.01594343980045138}],goFree:0,goHome:"/Users/xiaobai/sdk/go1.17rc2",goName:"GoLang",goRunTime:5561,goStartTime:"2023-02-25 20:54:08",goTotal:0,goUsage:.28,goUsed:48317448,goUserDir:"/Volumes/DATA/Sourcetree/CMS资源库/cms-status-server",goVersion:"go1.17rc2",memFree:6578659328,memTotal:17179869184,memUsage:61.71,memUsed:10601209856,sysComputerIp:"192.168.20.1",sysComputerName:"xiaobaideMacBook-Pro.local",sysOsArch:"x86_64",sysOsName:"darwin"},info:{CpuInfo:{Percent:0,Mhz:0,CpuNum:0},MemInfo:{Percent:0,Total:0,Available:0},DiskInfo:{Percent:0,Total:0,Available:0,Path:""},IOInfo:{sent_now:0,recv_now:0},OfflineDownload:{Success:0,Fail:0,Await:0,Handle:0,Ing:0},VideotranscoInfo:{Success:0,Fail:0,Await:0,Handle:0,Ing:0},DiskUsagInfo:[]},timer:null}},created:function(){this.getList(),this.timer=1,this.timerIng()},beforeDestroy:function(){this.timer=0},methods:{timerIng:function(){var e=this;this.getList2((function(){1==e.timer&&setTimeout(e.timerIng,1e3)}))},getList:function(){var e=this;Object(O["a"])().then((function(t){e.server=t.data,console.log(e.server)}))},getList2:function(e){var t=this;Object(O["a"])().then((function(s){t.server=s.data,e()}))},memorySizeFormat:function(e){e=parseFloat(e);var t=0,s="Bytes";while(e>1024&&"GB"!=s)e/=1024,t++,1==t?s="KB":2==t?s="MB":3==t&&(s="GB");return e.toFixed(2)+" "+s}}},T=P,U=(s("4fd5"),Object(c["a"])(T,i,a,!1,null,"b58b2b70",null));t["default"]=U.exports},"4fd5":function(e,t,s){"use strict";s("b7a7")},"9ab6":function(e,t,s){},b422:function(e,t,s){},b79f:function(e,t,s){"use strict";s("9ab6")},b7a7:function(e,t,s){},cc0b:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("b775");function a(){return Object(i["a"])({url:"/system/monitor/server/info",method:"get"})}}}]);